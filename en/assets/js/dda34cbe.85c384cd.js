"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[19],{6116:(e,l,t)=>{t.r(l),t.d(l,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"technicals/animation/ProjectileAnimator","title":"ProjectileAnimator","description":"La classe ProjectileAnimator \xe9tend la classe Animator pour g\xe9rer sp\xe9cifiquement l\'affichage, le mouvement et la dur\xe9e de vie des projectiles (balles, torpilles, lasers).","source":"@site/docs/technicals/animation/ProjectileAnimator.md","sourceDirName":"technicals/animation","slug":"/technicals/animation/ProjectileAnimator","permalink":"/xenon-space---Video-game/en/docs/technicals/animation/ProjectileAnimator","draft":false,"unlisted":false,"editUrl":"https://github.com/nonov1012/xenon-space---Video-game/tree/main/website/docs/technicals/animation/ProjectileAnimator.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"PlanetAnimator","permalink":"/xenon-space---Video-game/en/docs/technicals/animation/PlanetAnimator"},"next":{"title":"ShipAnimator","permalink":"/xenon-space---Video-game/en/docs/technicals/animation/ShipAnimator"}}');var s=t(4848),i=t(8453);const d={},r="ProjectileAnimator",c={},a=[{value:"H\xe9rite de <code>Animator</code>",id:"h\xe9rite-de-animator",level:2},{value:"Attribut de Classe",id:"attribut-de-classe",level:2},{value:"<code>projectiles_data</code>",id:"projectiles_data",level:3},{value:"Constructeur",id:"constructeur",level:2},{value:"Param\xe8tres",id:"param\xe8tres",level:3},{value:"Fonctionnement",id:"fonctionnement",level:3},{value:"M\xe9thodes Surcharg\xe9es",id:"m\xe9thodes-surcharg\xe9es",level:2},{value:"<code>update_and_draw</code>",id:"update_and_draw",level:3},{value:"<code>erase</code>",id:"erase",level:3},{value:"M\xe9thodes Internes",id:"m\xe9thodes-internes",level:2},{value:"<code>_compute_distance</code>",id:"_compute_distance",level:3},{value:"<code>_draw_laser</code>",id:"_draw_laser",level:3}];function o(e){const l={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.header,{children:(0,s.jsx)(l.h1,{id:"projectileanimator",children:(0,s.jsx)(l.code,{children:"ProjectileAnimator"})})}),"\n",(0,s.jsxs)(l.p,{children:["La classe ",(0,s.jsx)(l.code,{children:"ProjectileAnimator"})," \xe9tend la classe ",(0,s.jsx)(l.code,{children:"Animator"})," pour g\xe9rer sp\xe9cifiquement l'affichage, le mouvement et la dur\xe9e de vie des projectiles (balles, torpilles, lasers)."]}),"\n",(0,s.jsxs)(l.p,{children:["Elle utilise le chemin de base d\xe9fini par la constante ",(0,s.jsx)(l.code,{children:"PROJECTILES_PATH"})," pour charger les assets."]}),"\n",(0,s.jsxs)(l.h2,{id:"h\xe9rite-de-animator",children:["H\xe9rite de ",(0,s.jsx)(l.a,{href:"/xenon-space---Video-game/en/docs/technicals/animation/Animator",children:(0,s.jsx)(l.code,{children:"Animator"})})]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.h2,{id:"attribut-de-classe",children:"Attribut de Classe"}),"\n",(0,s.jsx)(l.h3,{id:"projectiles_data",children:(0,s.jsx)(l.code,{children:"projectiles_data"})}),"\n",(0,s.jsx)(l.p,{children:"Dictionnaire qui mappe le type de projectile \xe0 ses dimensions par d\xe9faut en pixels."}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Cl\xe9 (Type de projectile)"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Valeur (Largeur, Hauteur en pixels)"})]})}),(0,s.jsxs)(l.tbody,{children:[(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:'"bullet"'})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"(4, 16)"})})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:'"big bullet"'})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"(8, 16)"})})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:'"torpedo"'})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"(11, 32)"})})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:'"wave"'})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"(64, 64)"})})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:'"laser"'})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"(18, 38)"})})]})]})]}),"\n",(0,s.jsxs)(l.admonition,{type:"info",children:[(0,s.jsx)(l.mdxAdmonitionTitle,{children:(0,s.jsx)(l.em,{children:"Remarque"})}),(0,s.jsx)(l.p,{children:"Le laser n'utilise pas le sprite car il cr\xe9e directement le laser avec pygame"})]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.h2,{id:"constructeur",children:"Constructeur"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'def __init__(\n    self,\n    dimensions: Tuple[int, int],\n    coord: Tuple[int, int],\n    default_fps: int = 10,\n    speed: int = 1,\n    movable: bool = True,\n    projectile_type: str = "projectile",\n    dissipate_speed: Optional[float] = None,\n    duration_ms: Optional[int] = 5000\n)\n'})}),"\n",(0,s.jsx)(l.h3,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Nom"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(l.tbody,{children:[(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"dimensions"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Tuple[int, int]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Dimensions du sprite en nombre de cases (",(0,s.jsx)(l.code,{children:"width_tiles"}),", ",(0,s.jsx)(l.code,{children:"height_tiles"}),")."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"coord"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Tuple[int, int]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Coordonn\xe9es initiales ",(0,s.jsx)(l.code,{children:"(x, y)"})," en pixels."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"default_fps"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"int"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Nombre de frames par seconde (d\xe9faut : 10)."})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"speed"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"int"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Vitesse de mouvement (d\xe9faut : 1)."})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"movable"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"bool"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Si ",(0,s.jsx)(l.code,{children:"True"}),", le projectile se d\xe9place vers sa cible (d\xe9faut : ",(0,s.jsx)(l.code,{children:"True"}),")."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"projectile_type"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"str"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:'Type de projectile (ex : "bullet", "laser") (d\xe9faut : "projectile").'})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"dissipate_speed"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Optional[float]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Vitesse de dissipation (ou d'apparition) pour le laser (d\xe9faut : ",(0,s.jsx)(l.code,{children:"None"}),")."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"duration_ms"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Optional[int]"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Dur\xe9e de vie maximale en millisecondes avant la suppression (d\xe9faut : 5000 ms)."})]})]})]}),"\n",(0,s.jsx)(l.h3,{id:"fonctionnement",children:"Fonctionnement"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Appelle le constructeur de la classe parente (",(0,s.jsx)(l.code,{children:"Animator"}),")."]}),"\n",(0,s.jsxs)(l.li,{children:["Initialise le temps de d\xe9but (",(0,s.jsx)(l.code,{children:"self.start_time"}),") pour le calcul de la dur\xe9e de vie."]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:'Cas sp\xe9cial "laser" :'}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["D\xe9cale la position X de l'origine au centre du sprite (",(0,s.jsx)(l.code,{children:"self.x += self.pixel_w / 2"}),")."]}),"\n",(0,s.jsxs)(l.li,{children:["Calcule ou utilise la vitesse de dissipation (",(0,s.jsx)(l.code,{children:"self.dissipate_speed"}),"). Si non fournie, elle est calcul\xe9e proportionnellement \xe0 la longueur initiale du laser (5% de la longueur)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.h2,{id:"m\xe9thodes-surcharg\xe9es",children:"M\xe9thodes Surcharg\xe9es"}),"\n",(0,s.jsx)(l.h3,{id:"update_and_draw",children:(0,s.jsx)(l.code,{children:"update_and_draw"})}),"\n",(0,s.jsx)(l.p,{children:"Met \xe0 jour l'\xe9tat du projectile (dur\xe9e de vie) et le dessine."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def update_and_draw(self):\n"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Gestion de la Dur\xe9e de Vie :"})," Si la dur\xe9e maximale (",(0,s.jsx)(l.code,{children:"self.duration_ms"}),") est atteinte, le projectile est marqu\xe9 comme inactif et est supprim\xe9 de la liste de classe via ",(0,s.jsx)(l.code,{children:"self.remove_from_list()"}),"."]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Dessin :"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Si le ",(0,s.jsx)(l.code,{children:"projectile_type"})," est ",(0,s.jsx)(l.code,{children:'"laser"'}),", appelle la m\xe9thode priv\xe9e ",(0,s.jsx)(l.code,{children:"self._draw_laser()"}),"."]}),"\n",(0,s.jsxs)(l.li,{children:["Sinon, appelle la m\xe9thode ",(0,s.jsx)(l.code,{children:"update_and_draw"})," de la classe parente pour un dessin classique (bas\xe9 sur spritesheet)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"erase",children:(0,s.jsx)(l.code,{children:"erase"})}),"\n",(0,s.jsx)(l.p,{children:"Efface l'image ou la ligne repr\xe9sentant le projectile de l'\xe9cran."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def erase(self, color=(0, 0, 0)):\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"color"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Tuple[int, int, int]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Couleur RVB utilis\xe9e pour effacer la zone (d\xe9faut : noir ",(0,s.jsx)(l.code,{children:"(0, 0, 0)"}),")."]})]})})]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Laser :"})," Dessine une ligne de la m\xeame largeur que le laser mais de la couleur ",(0,s.jsx)(l.code,{children:"color"})," (couleur de fond) pour l'effacer correctement de l'\xe9cran."]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Autres :"})," Appelle la m\xe9thode ",(0,s.jsx)(l.code,{children:"erase"})," de la classe parente."]}),"\n"]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.h2,{id:"m\xe9thodes-internes",children:"M\xe9thodes Internes"}),"\n",(0,s.jsx)(l.h3,{id:"_compute_distance",children:(0,s.jsx)(l.code,{children:"_compute_distance"})}),"\n",(0,s.jsxs)(l.p,{children:["Calcule la distance en pixels entre l'origine actuelle du projectile (",(0,s.jsx)(l.code,{children:"self.x"}),", ",(0,s.jsx)(l.code,{children:"self.y"}),") et sa cible (",(0,s.jsx)(l.code,{children:"self.target"}),")."]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def _compute_distance(self) -> float:\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Retour"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"float"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"La distance euclidienne entre l'origine et la cible."}),(0,s.jsx)(l.td,{style:{textAlign:"left"}})]})})]}),"\n",(0,s.jsx)(l.h3,{id:"_draw_laser",children:(0,s.jsx)(l.code,{children:"_draw_laser"})}),"\n",(0,s.jsx)(l.p,{children:"Dessine le laser en utilisant un effet de dissipation et de pulsation."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def _draw_laser(self):\n"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Animation de Largeur :"})," G\xe8re la largeur actuelle du laser (",(0,s.jsx)(l.code,{children:"self._laser_width"}),").","\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["S'il est actif (",(0,s.jsx)(l.code,{children:"self._laser_active"}),"), sa largeur augmente jusqu'\xe0 ",(0,s.jsx)(l.code,{children:"width_max"})," (effet d'apparition)."]}),"\n",(0,s.jsx)(l.li,{children:"S'il est inactif, sa largeur diminue jusqu'\xe0 0 (effet de dissipation)."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Effet Visuel :"})," Dessine le laser en tant que lignes superpos\xe9es de diff\xe9rentes largeurs et alphas, avec des extr\xe9mit\xe9s arrondies (caps). Une fonction interne ",(0,s.jsx)(l.code,{children:"draw_line_with_caps"})," est utilis\xe9e pour appliquer un effet de ",(0,s.jsx)(l.strong,{children:"pulsation"})," bas\xe9 sur un sinus pour simuler une intensit\xe9 variable (pour les couches rouges)."]}),"\n",(0,s.jsxs)(l.li,{children:["Dessine une couche centrale ",(0,s.jsx)(l.strong,{children:"blanche et opaque"})," pour l'intensit\xe9 et plusieurs couches rouges, toutes en utilisant des surfaces Pygame avec canal alpha (",(0,s.jsx)(l.code,{children:"pygame.SRCALPHA"}),") pour la transparence."]}),"\n"]})]})}function h(e={}){const{wrapper:l}={...(0,i.R)(),...e.components};return l?(0,s.jsx)(l,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,l,t)=>{t.d(l,{R:()=>d,x:()=>r});var n=t(6540);const s={},i=n.createContext(s);function d(e){const l=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(i.Provider,{value:l},e.children)}}}]);