"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[324],{4497:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"technicals/menu/succesTech","title":"Menu Succ\xe8s (Fonction main)","description":"1. Objectif Principal","source":"@site/docs/technicals/menu/succesTech.md","sourceDirName":"technicals/menu","slug":"/technicals/menu/succesTech","permalink":"/xenon-space---Video-game/en/docs/technicals/menu/succesTech","draft":false,"unlisted":false,"editUrl":"https://github.com/nonov1012/xenon-space---Video-game/tree/main/website/docs/technicals/menu/succesTech.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Menu Principal (Fonction main)","permalink":"/xenon-space---Video-game/en/docs/technicals/menu/principalTech"},"next":{"title":"\ud83d\ude80 Documentation utilisateur \u2013 Xenon Space","permalink":"/xenon-space---Video-game/en/docs/users/intro"}}');var l=s(4848),r=s(8453);const c={},d="Menu Succ\xe8s (Fonction main)",t={},o=[{value:"1. Objectif Principal",id:"1-objectif-principal",level:2},{value:"2. Structure et Composants",id:"2-structure-et-composants",level:2},{value:"2.1. Initialisation (D\xe9but de <code>main</code>)",id:"21-initialisation-d\xe9but-de-main",level:3},{value:"2.2. Chargement des Succ\xe8s",id:"22-chargement-des-succ\xe8s",level:3},{value:"2.3. Configuration de la Grille",id:"23-configuration-de-la-grille",level:3},{value:"3. Logique de la Boucle Principale",id:"3-logique-de-la-boucle-principale",level:2},{value:"3.1. R\xe9cup\xe9ration Input",id:"31-r\xe9cup\xe9ration-input",level:3},{value:"3.2. Rendu (Phase de Dessin)",id:"32-rendu-phase-de-dessin",level:3},{value:"3.3. Gestion des \xc9v\xe9nements (<code>pygame.event.get()</code>)",id:"33-gestion-des-\xe9v\xe9nements-pygameeventget",level:3},{value:"4. Syst\xe8me de Scroll Vertical",id:"4-syst\xe8me-de-scroll-vertical",level:2},{value:"4.1. Calcul des Dimensions",id:"41-calcul-des-dimensions",level:3},{value:"4.2. Application du Scroll",id:"42-application-du-scroll",level:3},{value:"4.3. Clipping pour Limiter le Rendu",id:"43-clipping-pour-limiter-le-rendu",level:3},{value:"5. Syst\xe8me d&#39;Affichage des Succ\xe8s",id:"5-syst\xe8me-daffichage-des-succ\xe8s",level:2},{value:"5.1. \xc9tats de Succ\xe8s",id:"51-\xe9tats-de-succ\xe8s",level:3},{value:"5.2. Effet de Survol",id:"52-effet-de-survol",level:3},{value:"5.3. Tooltip Multi-lignes",id:"53-tooltip-multi-lignes",level:3},{value:"6. Gestion des Ressources",id:"6-gestion-des-ressources",level:2},{value:"6.1. Chargement des Images",id:"61-chargement-des-images",level:3},{value:"6.2. Nettoyage des Animateurs",id:"62-nettoyage-des-animateurs",level:3},{value:"7. Consid\xe9rations Techniques",id:"7-consid\xe9rations-techniques",level:2},{value:"7.1. Fr\xe9quence de Rendu",id:"71-fr\xe9quence-de-rendu",level:3},{value:"7.2. Ratio d&#39;\xc9cran",id:"72-ratio-d\xe9cran",level:3},{value:"7.3. Chemin Relatif du JSON",id:"73-chemin-relatif-du-json",level:3},{value:"7.4. Clipping et Performance",id:"74-clipping-et-performance",level:3},{value:"8. Flux d&#39;Utilisateur",id:"8-flux-dutilisateur",level:2},{value:"9. \xc9tat Persistant",id:"9-\xe9tat-persistant",level:2},{value:"10. Notes Techniques",id:"10-notes-techniques",level:2},{value:"10.1. Pourquoi Utiliser set_clip() ?",id:"101-pourquoi-utiliser-set_clip-",level:3},{value:"10.2. Cadenas Unicode",id:"102-cadenas-unicode",level:3},{value:"10.3. Inflation du Rectangle",id:"103-inflation-du-rectangle",level:3},{value:"10.4. Structure JSON Flexible",id:"104-structure-json-flexible",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsxs)(n.h1,{id:"menu-succ\xe8s-fonction-main",children:["Menu Succ\xe8s (Fonction ",(0,l.jsx)(n.code,{children:"main"}),")"]})}),"\n",(0,l.jsx)(n.h2,{id:"1-objectif-principal",children:"1. Objectif Principal"}),"\n",(0,l.jsxs)(n.p,{children:["La fonction ",(0,l.jsx)(n.code,{children:"main(ecran)"})," impl\xe9mente l'interface utilisateur du menu des succ\xe8s. Elle affiche une grille de succ\xe8s d\xe9bloqu\xe9s/verrouill\xe9s avec descriptions au survol, un fond spatial anim\xe9, et permet le scroll vertical. Les succ\xe8s sont charg\xe9s depuis un fichier JSON et leurs images sont affich\xe9es dans une grille de 3 colonnes."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"2-structure-et-composants",children:"2. Structure et Composants"}),"\n",(0,l.jsxs)(n.h3,{id:"21-initialisation-d\xe9but-de-main",children:["2.1. Initialisation (D\xe9but de ",(0,l.jsx)(n.code,{children:"main"}),")"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Couleurs et Polices"})," : D\xe9finition des constantes de couleur (",(0,l.jsx)(n.code,{children:"BLANC"}),", ",(0,l.jsx)(n.code,{children:"GRIS_*"}),", ",(0,l.jsx)(n.code,{children:"OR"}),", ",(0,l.jsx)(n.code,{children:"BLEU_ACCENT"}),") et chargement de 4 polices SpaceNova.otf de diff\xe9rentes tailles (60px titre, 24px boutons, 22px succ\xe8s, 16px descriptions)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Animation de Fond"})," : Appel \xe0 ",(0,l.jsx)(n.code,{children:"create_space_background()"})," pour g\xe9n\xe9rer un fond spatial dynamique avec \xe9toiles, plan\xe8tes et vaisseau."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Curseur"})," : D\xe9sactivation du curseur syst\xe8me et chargement du curseur personnalis\xe9 (40x40px)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Bouton Retour"})," : Calcul de sa position et de son image avec gestion du zoom au survol."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"22-chargement-des-succ\xe8s",children:"2.2. Chargement des Succ\xe8s"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Fichier JSON"})," : Charge ",(0,l.jsx)(n.code,{children:"succes.json"})," depuis le m\xeame r\xe9pertoire (",(0,l.jsx)(n.code,{children:"menu/succes.json"}),")."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Gestion des Erreurs"})," : Affichage de messages debug et fallback vers liste vide en cas d'erreur."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Chargement des Images"})," : Pour chaque succ\xe8s, charge l'image depuis le chemin JSON ou cr\xe9e un placeholder gris si le fichier manque."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Structure JSON"})," :","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "id": "string",\n    "titre": "string",\n    "description": "string",\n    "image": "chemin/vers/image.png",\n    "debloque": boolean\n  }\n]\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"23-configuration-de-la-grille",children:"2.3. Configuration de la Grille"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Disposition"})," : 3 colonnes, espacement de 30px, taille de case 140x140px"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Centrage"})," : La grille est centr\xe9e horizontalement dans le panneau"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Scroll"})," : Gestion du d\xe9filement vertical avec calcul du contenu total et offset maximum"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"3-logique-de-la-boucle-principale",children:"3. Logique de la Boucle Principale"}),"\n",(0,l.jsxs)(n.p,{children:["La fonction utilise une boucle ",(0,l.jsx)(n.code,{children:"while en_cours:"})," pour g\xe9rer le rendu et les \xe9v\xe9nements \xe0 60 FPS (",(0,l.jsx)(n.code,{children:"horloge.tick(60)"}),")."]}),"\n",(0,l.jsx)(n.h3,{id:"31-r\xe9cup\xe9ration-input",children:"3.1. R\xe9cup\xe9ration Input"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"souris = pygame.mouse.get_pos()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Position de la souris mise \xe0 jour \xe0 chaque frame pour la d\xe9tection des survols."}),"\n",(0,l.jsx)(n.h3,{id:"32-rendu-phase-de-dessin",children:"3.2. Rendu (Phase de Dessin)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Nettoyage et Fond Spatial"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Remplit l'\xe9cran en noir"}),"\n",(0,l.jsx)(n.li,{children:"Met \xe0 jour et affiche les \xe9toiles, plan\xe8tes et animateurs"}),"\n",(0,l.jsx)(n.li,{children:"R\xe9sultat : fond dynamique et vivant"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Titre"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'"SUCCES" affich\xe9 en OR (255, 200, 0), 60px, centr\xe9 en haut'}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Panneau Principal"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Rectangle arrondi en ",(0,l.jsx)(n.code,{children:"GRIS_FONCE"})," avec bordure ",(0,l.jsx)(n.code,{children:"GRIS_MOYEN"})]}),"\n",(0,l.jsx)(n.li,{children:"Dimensions : 800x500px, centr\xe9 horizontalement"}),"\n",(0,l.jsx)(n.li,{children:"Bordure : 3px"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Grille de Succ\xe8s (avec Clipping)"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Utilise ",(0,l.jsx)(n.code,{children:"ecran.set_clip()"})," pour limiter le rendu \xe0 la zone du panneau"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Pour chaque succ\xe8s visible :"}),"\n",(0,l.jsxs)(n.p,{children:["a. ",(0,l.jsx)(n.strong,{children:"Calcul de position avec scroll"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"rect_affiche = rect_succes.copy()\nrect_affiche.y -= scroll_offset\n"})}),"\n",(0,l.jsxs)(n.p,{children:["b. ",(0,l.jsx)(n.strong,{children:"V\xe9rification de visibilit\xe9"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"if rect_affiche.bottom < panneau_y or rect_affiche.top > panneau_y + panneau_hauteur:\n    continue  # Ne pas dessiner\n"})}),"\n",(0,l.jsxs)(n.p,{children:["c. ",(0,l.jsx)(n.strong,{children:"D\xe9tection du survol"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"est_survole = rect_affiche.collidepoint(souris)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["d. ",(0,l.jsx)(n.strong,{children:"Couleur selon \xe9tat de d\xe9blocage"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'if succes["debloque"]:\n    couleur_fond = BLEU_ACCENT\n    couleur_bordure = OR\nelse:\n    couleur_fond = GRIS_MOYEN\n    couleur_bordure = GRIS_CLAIR\n'})}),"\n",(0,l.jsxs)(n.p,{children:["e. ",(0,l.jsx)(n.strong,{children:"Effet de survol"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"if est_survole:\n    rect_hover = rect_affiche.inflate(10, 10)\n    pygame.draw.rect(ecran, OR, rect_hover, border_radius=10)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["f. ",(0,l.jsx)(n.strong,{children:"Rendu du succ\xe8s"})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Fond du succ\xe8s avec bordure arrondie"}),"\n",(0,l.jsx)(n.li,{children:"Image du succ\xe8s (120x120px) centr\xe9e"}),"\n",(0,l.jsx)(n.li,{children:"Overlay sombre + cadenas (\ud83d\udd12) si verrouill\xe9"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["g. ",(0,l.jsx)(n.strong,{children:"Tracage du succ\xe8s survol\xe9"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"if est_survole:\n    succes_survole = succes  # Utilis\xe9 pour le tooltip\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Tooltip au Survol"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Affich\xe9 uniquement si un succ\xe8s est survol\xe9"}),"\n",(0,l.jsx)(n.li,{children:"Position : +20px du curseur (clamped \xe0 l'\xe9cran)"}),"\n",(0,l.jsx)(n.li,{children:"Dimensions : 350x100px"}),"\n",(0,l.jsxs)(n.li,{children:["Contenu :","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Titre du succ\xe8s en OR"}),"\n",(0,l.jsx)(n.li,{children:"Description en gris (max 2 lignes, avec wrapping)"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Fond semi-transparent noir avec bordure OR"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Bouton Retour"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["D\xe9tection du survol : ",(0,l.jsx)(n.code,{children:"rect_retour.collidepoint(souris)"})]}),"\n",(0,l.jsx)(n.li,{children:"Animation de zoom au survol (1.0 \u2192 1.1)"}),"\n",(0,l.jsx)(n.li,{children:"Rendu avec texte centr\xe9"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Curseur Personnalis\xe9"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Affich\xe9 \xe0 ",(0,l.jsx)(n.code,{children:"souris"})," (position de la souris)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Actualisation de l'\xc9cran"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"pygame.display.flip()"})," : Mise \xe0 jour compl\xe8te"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"horloge.tick(60)"})," : Limite \xe0 60 FPS"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.h3,{id:"33-gestion-des-\xe9v\xe9nements-pygameeventget",children:["3.3. Gestion des \xc9v\xe9nements (",(0,l.jsx)(n.code,{children:"pygame.event.get()"}),")"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Fermeture"})," (",(0,l.jsx)(n.code,{children:"pygame.QUIT"}),") : Met ",(0,l.jsx)(n.code,{children:"en_cours"})," \xe0 ",(0,l.jsx)(n.code,{children:"False"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Molette de Souris"})," (",(0,l.jsx)(n.code,{children:"pygame.MOUSEWHEEL"}),") :"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"scroll_offset -= event.y * 30\nscroll_offset = max(0, min(scroll_offset, max_scroll))\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Scroll vers le haut : ",(0,l.jsx)(n.code,{children:"event.y = +1"})," \u2192 d\xe9filement vers le haut"]}),"\n",(0,l.jsxs)(n.li,{children:["Scroll vers le bas : ",(0,l.jsx)(n.code,{children:"event.y = -1"})," \u2192 d\xe9filement vers le bas"]}),"\n",(0,l.jsx)(n.li,{children:'Valeur 30px : hauteur du scroll par "cran"'}),"\n",(0,l.jsx)(n.li,{children:"Clamping : Emp\xeache le scroll d'aller au-del\xe0 des limites"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Clic Souris"})," (",(0,l.jsx)(n.code,{children:"pygame.MOUSEBUTTONDOWN"}),") :"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Clique sur ",(0,l.jsx)(n.strong,{children:"RETOUR"})," : ",(0,l.jsx)(n.code,{children:"en_cours = False"})," (quitte le menu)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"4-syst\xe8me-de-scroll-vertical",children:"4. Syst\xe8me de Scroll Vertical"}),"\n",(0,l.jsx)(n.h3,{id:"41-calcul-des-dimensions",children:"4.1. Calcul des Dimensions"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"nb_lignes = (len(succes_liste) + colonnes - 1) // colonnes\nhauteur_contenu = nb_lignes * (taille_case + espacement) + 40\nmax_scroll = max(0, hauteur_contenu - panneau_hauteur + 60)\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Nombre de lignes : Arrondi sup\xe9rieur du nombre de succ\xe8s / nombre de colonnes"}),"\n",(0,l.jsx)(n.li,{children:"Hauteur totale : (lignes \xd7 hauteur_case) + marge"}),"\n",(0,l.jsx)(n.li,{children:'Max scroll : Limite pour \xe9viter le "overscroll" (vide en bas du panneau)'}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"42-application-du-scroll",children:"4.2. Application du Scroll"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"rect_affiche.y -= scroll_offset\n"})}),"\n",(0,l.jsx)(n.p,{children:"Appliqu\xe9 \xe0 chaque succ\xe8s avant le rendu. Valeur n\xe9gative = d\xe9filement vers le haut."}),"\n",(0,l.jsx)(n.h3,{id:"43-clipping-pour-limiter-le-rendu",children:"4.3. Clipping pour Limiter le Rendu"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"zone_scroll = pygame.Rect(panneau_x, panneau_y, panneau_largeur, panneau_hauteur)\necran.set_clip(zone_scroll)\n# ... dessiner les succ\xe8s ...\necran.set_clip(None)\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Seuls les pixels \xe0 l'int\xe9rieur de ",(0,l.jsx)(n.code,{children:"zone_scroll"})," sont affich\xe9s. Emp\xeache les succ\xe8s de d\xe9passer les bords du panneau."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"5-syst\xe8me-daffichage-des-succ\xe8s",children:"5. Syst\xe8me d'Affichage des Succ\xe8s"}),"\n",(0,l.jsx)(n.h3,{id:"51-\xe9tats-de-succ\xe8s",children:"5.1. \xc9tats de Succ\xe8s"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"D\xe9bloqu\xe9"})," :"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Fond : ",(0,l.jsx)(n.code,{children:"BLEU_ACCENT"})," (70, 130, 255)"]}),"\n",(0,l.jsxs)(n.li,{children:["Bordure : ",(0,l.jsx)(n.code,{children:"OR"})," (255, 200, 0)"]}),"\n",(0,l.jsx)(n.li,{children:"Image : Normale"}),"\n",(0,l.jsx)(n.li,{children:"Overlay : Aucun"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Verrouill\xe9"})," :"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Fond : ",(0,l.jsx)(n.code,{children:"GRIS_MOYEN"})," (90, 90, 110)"]}),"\n",(0,l.jsxs)(n.li,{children:["Bordure : ",(0,l.jsx)(n.code,{children:"GRIS_CLAIR"})," (180, 180, 200)"]}),"\n",(0,l.jsx)(n.li,{children:"Image : Normale"}),"\n",(0,l.jsx)(n.li,{children:"Overlay : Noir semi-transparent (alpha 150)"}),"\n",(0,l.jsx)(n.li,{children:'Cadenas : Emoji "\ud83d\udd12" au centre'}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"52-effet-de-survol",children:"5.2. Effet de Survol"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"if est_survole:\n    rect_hover = rect_affiche.inflate(10, 10)\n    pygame.draw.rect(ecran, OR, rect_hover, border_radius=10)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Rectangle orange l\xe9g\xe8rement plus grand (+10px de chaque c\xf4t\xe9) autour du succ\xe8s survol\xe9."}),"\n",(0,l.jsx)(n.h3,{id:"53-tooltip-multi-lignes",children:"5.3. Tooltip Multi-lignes"}),"\n",(0,l.jsx)(n.p,{children:"Algoritme de wrapping du texte :"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Split par mots"}),"\n",(0,l.jsxs)(n.li,{children:["Ajouter mots tant que ",(0,l.jsx)(n.code,{children:"largeur < tooltip_largeur - 30"})]}),"\n",(0,l.jsx)(n.li,{children:"Passer \xe0 la ligne suivante si d\xe9passement"}),"\n",(0,l.jsx)(n.li,{children:"Limiter \xe0 2 lignes affich\xe9es"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"6-gestion-des-ressources",children:"6. Gestion des Ressources"}),"\n",(0,l.jsx)(n.h3,{id:"61-chargement-des-images",children:"6.1. Chargement des Images"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Chemin absolu calcul\xe9 depuis ",(0,l.jsx)(n.code,{children:"succes.json"})]}),"\n",(0,l.jsx)(n.li,{children:"Redimensionnement \xe0 120x120px"}),"\n",(0,l.jsx)(n.li,{children:"Gestion des erreurs : Placeholder gris 120x120px en cas de probl\xe8me"}),"\n",(0,l.jsx)(n.li,{children:"Messages debug : Affichage d'\xe9tat pour chaque image"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"62-nettoyage-des-animateurs",children:"6.2. Nettoyage des Animateurs"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"ShipAnimator.clear_list()\nPlanetAnimator.clear_list()\n"})}),"\n",(0,l.jsx)(n.p,{children:"\xc0 la fin, nettoie les listes d'animateurs pour \xe9viter les fuites m\xe9moire."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"7-consid\xe9rations-techniques",children:"7. Consid\xe9rations Techniques"}),"\n",(0,l.jsx)(n.h3,{id:"71-fr\xe9quence-de-rendu",children:"7.1. Fr\xe9quence de Rendu"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"60 FPS"})," pour le menu succ\xe8s (plus haute que le menu principal)"]}),"\n",(0,l.jsxs)(n.li,{children:["Limite : ",(0,l.jsx)(n.code,{children:"horloge.tick(60)"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"72-ratio-d\xe9cran",children:"7.2. Ratio d'\xc9cran"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"screen_ratio = (largeur_ecran * 100 / 600) / 100\n"})}),"\n",(0,l.jsx)(n.p,{children:"Ajuste dynamiquement les \xe9l\xe9ments spaciaux selon la r\xe9solution."}),"\n",(0,l.jsx)(n.h3,{id:"73-chemin-relatif-du-json",children:"7.3. Chemin Relatif du JSON"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'chemin_json = os.path.join(os.path.dirname(__file__), "succes.json")\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Charge ",(0,l.jsx)(n.code,{children:"succes.json"})," depuis le m\xeame r\xe9pertoire que ",(0,l.jsx)(n.code,{children:"menuSucces.py"})," (robuste aux changements de r\xe9pertoire courant)."]}),"\n",(0,l.jsx)(n.h3,{id:"74-clipping-et-performance",children:"7.4. Clipping et Performance"}),"\n",(0,l.jsxs)(n.p,{children:["Le clipping (",(0,l.jsx)(n.code,{children:"set_clip"}),") am\xe9liore la performance en limitant le rendu aux pixels visibles, notamment important lors du scroll."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"8-flux-dutilisateur",children:"8. Flux d'Utilisateur"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Menu Succ\xe8s (60 FPS)\n    \u2193\n[Grille affich\xe9e avec succ\xe8s d\xe9bloqu\xe9s/verrouill\xe9s]\n    \u251c\u2500 D\xe9bloqu\xe9s : OR/BLEU, image normale\n    \u2514\u2500 Verrouill\xe9s : GRIS, overlay + cadenas\n    \u2193\n[Survol d'un succ\xe8s]\n    \u251c\u2500 Bordure orange s'affiche\n    \u2514\u2500 Tooltip appara\xeet (titre + description)\n    \u2193\n[Scroll Molette]\n    \u251c\u2500 Contenu d\xe9file verticalement\n    \u2514\u2500 Clipping limite \xe0 la zone du panneau\n    \u2193\n[Clic sur RETOUR]\n    \u2514\u2500 Retour au menu pr\xe9c\xe9dent\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"9-\xe9tat-persistant",children:"9. \xc9tat Persistant"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"scroll_offset"})," : Position verticale du scroll (en pixels)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"succes_survole"})," : R\xe9f\xe9rence au succ\xe8s actuellement survol\xe9 (None sinon)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"zoom_etat_retour"})," : \xc9tat du zoom du bouton retour"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"10-notes-techniques",children:"10. Notes Techniques"}),"\n",(0,l.jsx)(n.h3,{id:"101-pourquoi-utiliser-set_clip-",children:"10.1. Pourquoi Utiliser set_clip() ?"}),"\n",(0,l.jsxs)(n.p,{children:["Permet le scroll naturel sans perte de performance. Les pixels en dehors de ",(0,l.jsx)(n.code,{children:"zone_scroll"})," ne sont simplement pas affich\xe9s."]}),"\n",(0,l.jsx)(n.h3,{id:"102-cadenas-unicode",children:"10.2. Cadenas Unicode"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'texte_cadenas = police_cadenas.render("\ud83d\udd12", True, BLANC)\n'})}),"\n",(0,l.jsx)(n.p,{children:"Utilise l'emoji \ud83d\udd12 pour indiquer un succ\xe8s verrouill\xe9. Compatible avec Unicode."}),"\n",(0,l.jsx)(n.h3,{id:"103-inflation-du-rectangle",children:"10.3. Inflation du Rectangle"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"rect_hover = rect_affiche.inflate(10, 10)\n"})}),"\n",(0,l.jsx)(n.p,{children:'Augmente la largeur et hauteur de 10px chacun (5px de chaque c\xf4t\xe9). Cr\xe9e un effet de "surbrillance".'}),"\n",(0,l.jsx)(n.h3,{id:"104-structure-json-flexible",children:"10.4. Structure JSON Flexible"}),"\n",(0,l.jsx)(n.p,{children:"Le format JSON permet d'ajouter facilement de nouveaux succ\xe8s sans modifier le code :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "id": "succes_id",\n  "titre": "Titre du Succ\xe8s",\n  "description": "Description d\xe9taill\xe9e...",\n  "image": "assets/img/succes/image.png",\n  "debloque": true\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var i=s(6540);const l={},r=i.createContext(l);function c(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);