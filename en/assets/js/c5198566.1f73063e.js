"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4],{1527:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"technicals/menu/finTech","title":"MenuFin","description":"1. Objectif du Module","source":"@site/docs/technicals/menu/finTech.md","sourceDirName":"technicals/menu","slug":"/technicals/menu/finTech","permalink":"/xenon-space---Video-game/en/docs/technicals/menu/finTech","draft":false,"unlisted":false,"editUrl":"https://github.com/nonov1012/xenon-space---Video-game/tree/main/website/docs/technicals/menu/finTech.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Credit","permalink":"/xenon-space---Video-game/en/docs/technicals/menu/creditTech"},"next":{"title":"Module de Personnalisation (Fonction draw)","permalink":"/xenon-space---Video-game/en/docs/technicals/menu/jouerTech"}}');var s=n(4848),i=n(8453);const c={},d="MenuFin",r={},o=[{value:"1. Objectif du Module",id:"1-objectif-du-module",level:2},{value:"2. Architecture des Classes",id:"2-architecture-des-classes",level:2},{value:"2.1. Classe EndButton",id:"21-classe-endbutton",level:3},{value:"2.2. Classe MenuFin",id:"22-classe-menufin",level:3},{value:"2.2.1. Initialisation et Pr\xe9paration",id:"221-initialisation-et-pr\xe9paration",level:4},{value:"2.2.2. Actions des Boutons (Callbacks)",id:"222-actions-des-boutons-callbacks",level:4},{value:"2.2.3. Boucle Principale et Logique",id:"223-boucle-principale-et-logique",level:4},{value:"2.2.4. Rendu",id:"224-rendu",level:4},{value:"3. Fonction main (Wrapper d&#39;Ex\xe9cution)",id:"3-fonction-main-wrapper-dex\xe9cution",level:2}];function a(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"menufin",children:"MenuFin"})}),"\n",(0,s.jsx)(t.h2,{id:"1-objectif-du-module",children:"1. Objectif du Module"}),"\n",(0,s.jsxs)(t.p,{children:["Le module menuFin.py impl\xe9mente l'\xe9cran de fin de partie. Il affiche le r\xe9sultat du jeu (",(0,s.jsx)(t.strong,{children:"VICTOIRE"})," ou ",(0,s.jsx)(t.strong,{children:"DEFAITE"}),") et fournit des options de navigation (retour au menu principal ou quitter). Il utilise une architecture orient\xe9e objet avec des classes distinctes pour le menu et les boutons."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"2-architecture-des-classes",children:"2. Architecture des Classes"}),"\n",(0,s.jsx)(t.h3,{id:"21-classe-endbutton",children:"2.1. Classe EndButton"}),"\n",(0,s.jsx)(t.p,{children:"G\xe8re le comportement et le rendu d'un bouton interactif, int\xe9grant un effet de zoom pour le survol."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Attribut"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"R\xf4le"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"rect"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"pygame.Rect"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Zone de collision et de positionnement de base."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"action"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"function"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Callback ex\xe9cut\xe9 lors du clic."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"zoom"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"float"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Facteur de mise \xe0 l'\xe9chelle pour l'animation visuelle (\xe9tat actuel)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"is_hovered"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"bool"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"\xc9tat de survol actuel."})]})]})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"M\xe9thode"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"R\xf4le"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"D\xe9tails Techniques"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"update(mouse_pos)"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Animation de survol."}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["D\xe9tecte le survol. G\xe8re le zoom via une ",(0,s.jsx)(t.strong,{children:"interpolation lin\xe9aire liss\xe9e"})," (zoom de 1.0 \xe0 1.1) : ",(0,s.jsx)(t.code,{children:"self.zoom += (target_zoom - self.zoom) * 0.08"}),". Retourne ",(0,s.jsx)(t.code,{children:"True"})," au d\xe9but du survol pour d\xe9clencher le son (",(0,s.jsx)(t.code,{children:"son_hover"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"draw(surface)"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Rendu."}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Redimensionne l'image (",(0,s.jsx)(t.code,{children:"pygame.transform.scale"}),") en utilisant ",(0,s.jsx)(t.code,{children:"self.zoom"})," et dessine l'image et la surface texte ",(0,s.jsx)(t.strong,{children:"centr\xe9es"})," sur le nouveau rectangle zoom\xe9."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"is_clicked(mouse_pos)"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"D\xe9tection de clic."}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["V\xe9rifie la collision entre la position de la souris et le rectangle de base (",(0,s.jsx)(t.code,{children:"self.rect"}),")."]})]})]})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"22-classe-menufin",children:"2.2. Classe MenuFin"}),"\n",(0,s.jsx)(t.p,{children:"Classe principale g\xe9rant la logique d'\xe9tat, l'initialisation des composants et le cycle de vie du menu."}),"\n",(0,s.jsx)(t.h4,{id:"221-initialisation-et-pr\xe9paration",children:"2.2.1. Initialisation et Pr\xe9paration"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Nettoyage"})," : Les listes d'animateurs globaux (",(0,s.jsx)(t.code,{children:"ShipAnimator"}),", ",(0,s.jsx)(t.code,{children:"PlanetAnimator"}),") sont ",(0,s.jsx)(t.strong,{children:"vid\xe9es"})," (",(0,s.jsx)(t.code,{children:"clear_list()"}),") pour \xe9viter les conflits de rendu avec les \xe9l\xe9ments de jeu pr\xe9c\xe9dents."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Fond"})," : ",(0,s.jsx)(t.code,{children:"_init_background()"})," utilise ",(0,s.jsx)(t.code,{children:"create_space_background()"})," pour g\xe9n\xe9rer le fond spatial anim\xe9 persistant (\xe9toiles, plan\xe8tes)."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Panneau"})," : ",(0,s.jsx)(t.code,{children:"_init_panel()"})," d\xe9finit les dimensions et les coordonn\xe9es centr\xe9es du rectangle central semi-transparent."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Boutons"})," : ",(0,s.jsx)(t.code,{children:"_init_buttons()"})," cr\xe9e les instances de ",(0,s.jsx)(t.code,{children:"EndButton"}),". La ",(0,s.jsx)(t.strong,{children:"positionnement horizontal"})," est calcul\xe9e pour centrer le groupe de boutons avec un espacement fixe (",(0,s.jsx)(t.code,{children:"espacement = 80"}),"). Les images de boutons sont mises \xe0 l'\xe9chelle pour s'adapter au texte."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Sons"})," : ",(0,s.jsx)(t.code,{children:"_init_sound()"})," charge et r\xe9f\xe9rence les SFX de survol et de clic."]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"222-actions-des-boutons-callbacks",children:"2.2.2. Actions des Boutons (Callbacks)"}),"\n",(0,s.jsxs)(t.p,{children:["Ces m\xe9thodes sont associ\xe9es aux boutons et mettent fin \xe0 la boucle ",(0,s.jsx)(t.code,{children:"MenuFin.run()"}),"."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"M\xe9thode"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"R\xf4le"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Effet sur l'\xc9tat"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"_action_menu()"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:'D\xe9clench\xe9 par le bouton "RETOUR AU MENU".'}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["D\xe9finit l'action de retour : ",(0,s.jsx)(t.code,{children:'self.choix = "menu_principal"'})," et met fin \xe0 la boucle : ",(0,s.jsx)(t.code,{children:"self.running = False"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"_action_quitter()"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:['D\xe9clench\xe9 par le bouton "QUITTER" ou la fermeture de la fen\xeatre (',(0,s.jsx)(t.code,{children:"pygame.QUIT"}),")."]}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["D\xe9finit l'action de sortie : ",(0,s.jsx)(t.code,{children:'self.choix = "quitter"'})," et met fin \xe0 la boucle : ",(0,s.jsx)(t.code,{children:"self.running = False"}),"."]})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"223-boucle-principale-et-logique",children:"2.2.3. Boucle Principale et Logique"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"M\xe9thode"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"R\xf4le"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"D\xe9tails d'Impl\xe9mentation"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"_handle_events()"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Gestion des \xe9v\xe9nements."}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"G\xe8re la fermeture de fen\xeatre et le clic souris."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"_handle_click()"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Clic de souris."}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["D\xe9tecte le clic sur un bouton, joue ",(0,s.jsx)(t.code,{children:"son_click"}),", puis ex\xe9cute le ",(0,s.jsx)(t.code,{children:"button.action"})," associ\xe9."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"_update()"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Mise \xe0 jour de la logique."}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Appelle ",(0,s.jsx)(t.code,{children:"button.update()"})," pour g\xe9rer l'animation de survol de chaque bouton et joue ",(0,s.jsx)(t.code,{children:"son_hover"})," si n\xe9cessaire."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"run()"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Boucle principale."}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Contient le cycle ",(0,s.jsx)(t.code,{children:"_handle_events"}),", ",(0,s.jsx)(t.code,{children:"_update"}),", ",(0,s.jsx)(t.code,{children:"_render"})," et g\xe8re le taux de rafra\xeechissement \xe0 60 FPS (",(0,s.jsx)(t.code,{children:"self.clock.tick(60)"}),"). Retourne ",(0,s.jsx)(t.code,{children:"self.choix"})," une fois la boucle termin\xe9e."]})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"224-rendu",children:"2.2.4. Rendu"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"_draw_background()"})})," : Dessine le fond. N\xe9cessite l'appel \xe0 ",(0,s.jsx)(t.code,{children:"update()"})," et ",(0,s.jsx)(t.code,{children:"update_all()"})," pour les \xe9toiles et les classes d'animation (",(0,s.jsx)(t.code,{children:"PlanetAnimator"}),", ",(0,s.jsx)(t.code,{children:"ShipAnimator"}),")."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"_draw_panel()"})})," : Cr\xe9e une surface ",(0,s.jsx)(t.code,{children:"pygame.SRCALPHA"})," pour dessiner un rectangle semi-transparent (",(0,s.jsx)(t.code,{children:"alpha=200"}),") avec une bordure, centr\xe9 sur l'\xe9cran."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"_draw_title()"})}),' : Affiche le titre ("VICTOIRE" ou "DEFAITE") en utilisant les couleurs (',(0,s.jsx)(t.code,{children:"self.JAUNE"})," ou ",(0,s.jsx)(t.code,{children:"self.ROUGE"}),") d\xe9finies en fonction de l'\xe9tat ",(0,s.jsx)(t.code,{children:"self.victoire"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.code,{children:"_draw_cursor()"})})," : Dessine le curseur personnalis\xe9 (",(0,s.jsx)(t.code,{children:"self.cursor"}),") \xe0 la position de la souris (le curseur syst\xe8me est d\xe9sactiv\xe9 via ",(0,s.jsx)(t.code,{children:"pygame.mouse.set_visible(False)"}),")."]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"3-fonction-main-wrapper-dex\xe9cution",children:"3. Fonction main (Wrapper d'Ex\xe9cution)"}),"\n",(0,s.jsxs)(t.p,{children:["La fonction ",(0,s.jsx)(t.code,{children:"main"})," sert de point d'entr\xe9e pour lancer le menu de fin."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Elle instancie ",(0,s.jsx)(t.code,{children:"MenuFin"})," et appelle sa m\xe9thode ",(0,s.jsx)(t.code,{children:"run()"})," pour ex\xe9cuter la boucle du menu."]}),"\n",(0,s.jsxs)(t.li,{children:["Elle g\xe8re l'action d'arr\xeat : si l'action retourn\xe9e par ",(0,s.jsx)(t.code,{children:"menu.run()"})," est ",(0,s.jsx)(t.code,{children:'"quitter"'}),", elle ex\xe9cute ",(0,s.jsx)(t.code,{children:"pygame.quit()"})," et ",(0,s.jsx)(t.code,{children:"sys.exit()"}),", terminant l'application."]}),"\n",(0,s.jsxs)(t.li,{children:["Elle retourne l'action choisie (",(0,s.jsx)(t.code,{children:'"menu_principal"'}),") au module de jeu principal pour la transition."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>d});var l=n(6540);const s={},i=l.createContext(s);function c(e){const t=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),l.createElement(i.Provider,{value:t},e.children)}}}]);