"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8456],{8085:(e,l,t)=>{t.r(l),t.d(l,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"technicals/classes/animation/Animator","title":"Animator","description":"-----","source":"@site/docs/technicals/classes/animation/Animator.md","sourceDirName":"technicals/classes/animation","slug":"/technicals/classes/animation/Animator","permalink":"/xenon-space---Video-game/docs/technicals/classes/animation/Animator","draft":false,"unlisted":false,"editUrl":"https://github.com/nonov1012/xenon-space---Video-game/tree/main/website/docs/technicals/classes/animation/Animator.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Player","permalink":"/xenon-space---Video-game/docs/technicals/classes/Player"},"next":{"title":"PlanetAnimator","permalink":"/xenon-space---Video-game/docs/technicals/classes/animation/PlanetAnimator"}}');var s=t(4848),i=t(8453);const d={},r="Animator",c={},a=[{value:"Fonction <code>load_spritesheet</code>",id:"fonction-load_spritesheet",level:2},{value:"Signature",id:"signature",level:3},{value:"Param\xe8tres",id:"param\xe8tres",level:3},{value:"Retour",id:"retour",level:3},{value:"Description",id:"description",level:3},{value:"Classe <code>Animator</code>",id:"classe-animator",level:2},{value:"Attribut de Classe",id:"attribut-de-classe",level:3},{value:"M\xe9thode Statique : <code>set_screen</code>",id:"m\xe9thode-statique--set_screen",level:3},{value:"Constructeur",id:"constructeur",level:2},{value:"Param\xe8tres",id:"param\xe8tres-1",level:3},{value:"Fonctionnement",id:"fonctionnement",level:3},{value:"M\xe9thodes d&#39;Animation et d&#39;Affichage",id:"m\xe9thodes-danimation-et-daffichage",level:2},{value:"<code>load_animation</code>",id:"load_animation",level:3},{value:"<code>play</code>",id:"play",level:3},{value:"<code>erase</code>",id:"erase",level:3},{value:"<code>update_and_draw</code>",id:"update_and_draw",level:3},{value:"M\xe9thodes de Position et Mouvement",id:"m\xe9thodes-de-position-et-mouvement",level:2},{value:"<code>get_center</code>",id:"get_center",level:3},{value:"<code>set_target</code>",id:"set_target",level:3},{value:"<code>move</code>",id:"move",level:3},{value:"<code>set_angle</code>",id:"set_angle",level:3},{value:"<code>slow_set_angle</code>",id:"slow_set_angle",level:3},{value:"<code>set_target_angle</code>",id:"set_target_angle",level:3},{value:"M\xe9thodes de Classe pour la Gestion Globale",id:"m\xe9thodes-de-classe-pour-la-gestion-globale",level:2},{value:"<code>update_all</code>",id:"update_all",level:3},{value:"<code>erase_all</code>",id:"erase_all",level:3},{value:"<code>remove_from_list</code>",id:"remove_from_list",level:3},{value:"<code>clear_list</code>",id:"clear_list",level:3}];function o(e){const l={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.header,{children:(0,s.jsx)(l.h1,{id:"animator",children:(0,s.jsx)(l.code,{children:"Animator"})})}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsxs)(l.h2,{id:"fonction-load_spritesheet",children:["Fonction ",(0,s.jsx)(l.code,{children:"load_spritesheet"})]}),"\n",(0,s.jsxs)(l.p,{children:["Charge une ",(0,s.jsx)(l.strong,{children:"spritesheet"})," \xe0 partir d'un fichier image et la divise en une liste de surfaces ",(0,s.jsx)(l.strong,{children:(0,s.jsx)(l.code,{children:"pygame.Surface"})}),"."]}),"\n",(0,s.jsx)(l.h3,{id:"signature",children:"Signature"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def load_spritesheet(path: str, frame_width: int, frame_height: int) -> List[pygame.Surface]:\n"})}),"\n",(0,s.jsx)(l.h3,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Nom"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(l.tbody,{children:[(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"path"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"str"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Chemin vers le fichier image de la spritesheet."})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"frame_width"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"int"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Largeur (en pixels) de chaque frame dans la spritesheet."})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"frame_height"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"int"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Hauteur (en pixels) de chaque frame dans la spritesheet."})]})]})]}),"\n",(0,s.jsx)(l.h3,{id:"retour",children:"Retour"}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"List[pygame.Surface]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Liste des surfaces ",(0,s.jsx)(l.code,{children:"pygame.Surface"}),", chacune repr\xe9sentant une frame de l'animation."]})]})})]}),"\n",(0,s.jsx)(l.h3,{id:"description",children:"Description"}),"\n",(0,s.jsxs)(l.p,{children:["La fonction lit l'image sp\xe9cifi\xe9e, it\xe8re sur sa largeur et sa hauteur en utilisant les dimensions de frame fournies, et extrait chaque frame comme une sous-surface. Elle utilise ",(0,s.jsx)(l.code,{children:"convert_alpha()"})," pour g\xe9rer la transparence."]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsxs)(l.h2,{id:"classe-animator",children:["Classe ",(0,s.jsx)(l.code,{children:"Animator"})]}),"\n",(0,s.jsx)(l.p,{children:"G\xe8re l'affichage d'une image statique et de multiples animations bas\xe9es sur des spritesheets pour une entit\xe9, incluant la gestion de la position, de la taille, de la vitesse et de la rotation."}),"\n",(0,s.jsx)(l.h3,{id:"attribut-de-classe",children:"Attribut de Classe"}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Nom"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"screen"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"pygame.Surface"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Surface ",(0,s.jsx)(l.strong,{children:"statique"})," de l'\xe9cran o\xf9 dessiner les animations. Doit \xeatre d\xe9fini via ",(0,s.jsx)(l.code,{children:"Animator.set_screen()"}),"."]})]})})]}),"\n",(0,s.jsxs)(l.h3,{id:"m\xe9thode-statique--set_screen",children:["M\xe9thode Statique : ",(0,s.jsx)(l.code,{children:"set_screen"})]}),"\n",(0,s.jsx)(l.p,{children:"D\xe9finit la surface de l'\xe9cran utilis\xe9e pour le dessin."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"@staticmethod\ndef set_screen(screen: pygame.Surface)\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"screen"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"pygame.Surface"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"La surface Pygame de l'\xe9cran principal."})]})})]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.h2,{id:"constructeur",children:"Constructeur"}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def __init__(\n    self,\n    path: str,\n    dimensions: Tuple[int, int],  # (width_tiles, height_tiles)\n    coord: Tuple[int, int],       # (x, y) en pixels\n    tile_size: int = TAILLE_CASE,\n    default_fps: int = 10,\n    speed: int = 1\n)\n"})}),"\n",(0,s.jsx)(l.h3,{id:"param\xe8tres-1",children:"Param\xe8tres"}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Nom"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(l.tbody,{children:[(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"path"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"str"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Chemin vers le ",(0,s.jsx)(l.strong,{children:"dossier"})," contenant l'image statique (",(0,s.jsx)(l.code,{children:"base.png"}),") et les spritesheets d'animation."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"dimensions"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Tuple[int, int]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Dimensions de l'entit\xe9 en ",(0,s.jsx)(l.strong,{children:"nombre de cases"})," (",(0,s.jsx)(l.code,{children:"width_tiles"}),", ",(0,s.jsx)(l.code,{children:"height_tiles"}),")."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"coord"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Tuple[int, int]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Coordonn\xe9es initiales ",(0,s.jsx)(l.strong,{children:"en cases"})," (",(0,s.jsx)(l.code,{children:"x"}),", ",(0,s.jsx)(l.code,{children:"y"}),")."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"tile_size"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"int"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Taille d'une case en pixels (par d\xe9faut : ",(0,s.jsx)(l.code,{children:"TAILLE_CASE"}),")."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"default_fps"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"int"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Nombre de frames par seconde par d\xe9faut pour l'animation (par d\xe9faut : 10)."})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"speed"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"int"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Vitesse de d\xe9placement de l'entit\xe9 (par d\xe9faut : 1)."})]})]})]}),"\n",(0,s.jsx)(l.h3,{id:"fonctionnement",children:"Fonctionnement"}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Calcule les dimensions en pixels (",(0,s.jsx)(l.code,{children:"self.pixel_w"}),", ",(0,s.jsx)(l.code,{children:"self.pixel_h"}),") et la position en pixels (",(0,s.jsx)(l.code,{children:"self.x"}),", ",(0,s.jsx)(l.code,{children:"self.y"}),")."]}),"\n",(0,s.jsxs)(l.li,{children:["Charge l'image statique ",(0,s.jsx)(l.strong,{children:(0,s.jsx)(l.code,{children:"base.png"})})," si elle existe dans le dossier ",(0,s.jsx)(l.code,{children:"path"})," et la redimensionne."]}),"\n",(0,s.jsxs)(l.li,{children:["Initialise les variables de gestion d'animation et de mouvement (",(0,s.jsx)(l.code,{children:"self.animations"}),", ",(0,s.jsx)(l.code,{children:"self.current_anim"}),", ",(0,s.jsx)(l.code,{children:"self.vx"}),", ",(0,s.jsx)(l.code,{children:"self.vy"}),", ",(0,s.jsx)(l.code,{children:"self.target"}),", ",(0,s.jsx)(l.code,{children:"self.angle"}),", etc.)."]}),"\n",(0,s.jsxs)(l.li,{children:["Ajoute l'instance \xe0 la liste de classe ",(0,s.jsx)(l.code,{children:"liste_animation"})," pour permettre la mise \xe0 jour globale."]}),"\n"]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.h2,{id:"m\xe9thodes-danimation-et-daffichage",children:"M\xe9thodes d'Animation et d'Affichage"}),"\n",(0,s.jsx)(l.h3,{id:"load_animation",children:(0,s.jsx)(l.code,{children:"load_animation"})}),"\n",(0,s.jsxs)(l.p,{children:["Charge une spritesheet d'animation et l'ajoute au dictionnaire ",(0,s.jsx)(l.code,{children:"self.animations"}),"."]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def load_animation(self, name: str, filename: str, frame_size: Optional[Tuple[int, int]] = None)\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(l.tbody,{children:[(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"name"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"str"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:'Identifiant de l\'animation (ex : "idle", "run").'})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"filename"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"str"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Nom du fichier spritesheet (relatif \xe0 ",(0,s.jsx)(l.code,{children:"self.path"}),")."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"frame_size"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Optional[Tuple[int, int]]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Taille explicite des frames ",(0,s.jsx)(l.code,{children:"(w, h)"})," si elles ne sont pas carr\xe9es (par d\xe9faut : ",(0,s.jsx)(l.code,{children:"None"}),", utilise ",(0,s.jsx)(l.code,{children:"sheet_h"})," pour ",(0,s.jsx)(l.code,{children:"fw"})," et ",(0,s.jsx)(l.code,{children:"fh"}),")."]})]})]})]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Conversion GIF :"})," Si le fichier est un ",(0,s.jsx)(l.code,{children:".gif"}),", il est automatiquement converti en ",(0,s.jsx)(l.code,{children:".png"})," spritesheet (via ",(0,s.jsx)(l.code,{children:"gif_to_spritesheet"}),") s'il n'existe pas d\xe9j\xe0."]}),"\n",(0,s.jsxs)(l.li,{children:["Les frames sont charg\xe9es via ",(0,s.jsx)(l.code,{children:"load_spritesheet"})," et ",(0,s.jsx)(l.strong,{children:"redimensionn\xe9es"})," aux dimensions de l'entit\xe9 (",(0,s.jsx)(l.code,{children:"self.pixel_w"}),", ",(0,s.jsx)(l.code,{children:"self.pixel_h"}),")."]}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"play",children:(0,s.jsx)(l.code,{children:"play"})}),"\n",(0,s.jsx)(l.p,{children:"D\xe9marre ou continue une animation sp\xe9cifique."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def play(self, name: str, reset: bool = False, frame_size: Optional[Tuple[int, int]] = None)\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(l.tbody,{children:[(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"name"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"str"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Nom de l'animation \xe0 jouer."})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"reset"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"bool"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Si ",(0,s.jsx)(l.code,{children:"True"}),", r\xe9initialise l'animation \xe0 la premi\xe8re frame (par d\xe9faut : ",(0,s.jsx)(l.code,{children:"False"}),")."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"frame_size"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Optional[Tuple[int, int]]"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Taille des frames si l'animation doit \xeatre charg\xe9e pour la premi\xe8re fois."})]})]})]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Si l'animation n'est pas charg\xe9e, tente de la charger automatiquement avec ",(0,s.jsx)(l.code,{children:"load_animation"})," en utilisant ",(0,s.jsx)(l.code,{children:"name.png"})," ou ",(0,s.jsx)(l.code,{children:"name.gif"}),"."]}),"\n",(0,s.jsxs)(l.li,{children:["R\xe9initialise l'index de frame et le temps de derni\xe8re mise \xe0 jour si ",(0,s.jsx)(l.code,{children:"reset"})," est ",(0,s.jsx)(l.code,{children:"True"})," ou si l'animation change."]}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"erase",children:(0,s.jsx)(l.code,{children:"erase"})}),"\n",(0,s.jsx)(l.p,{children:"Efface l'image (animation actuelle avec rotation) de l'\xe9cran en la recouvrant d'une couleur."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def erase(self, color=(0, 0, 0))\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"color"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Tuple[int, int, int]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Couleur RVB pour effacer la zone de l'image (par d\xe9faut : noir ",(0,s.jsx)(l.code,{children:"(0, 0, 0)"}),")."]})]})})]}),"\n",(0,s.jsx)(l.h3,{id:"update_and_draw",children:(0,s.jsx)(l.code,{children:"update_and_draw"})}),"\n",(0,s.jsx)(l.p,{children:"Met \xe0 jour l'\xe9tat de l'animateur (mouvement, rotation, frame d'animation) et le dessine sur l'\xe9cran."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def update_and_draw(self)\n"})}),"\n",(0,s.jsxs)(l.ol,{children:["\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Mouvement :"})," Appelle ",(0,s.jsx)(l.code,{children:"self.move()"})," pour avancer vers la cible."]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Rotation :"})," Appelle ",(0,s.jsx)(l.code,{children:"self.slow_set_angle()"})," pour tourner progressivement vers ",(0,s.jsx)(l.code,{children:"self.target_angle"}),"."]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Frame :"})," Met \xe0 jour ",(0,s.jsx)(l.code,{children:"self.frame_index"})," si le temps \xe9coul\xe9 (",(0,s.jsx)(l.code,{children:"self.frame_duration_ms"}),") est d\xe9pass\xe9."]}),"\n",(0,s.jsxs)(l.li,{children:[(0,s.jsx)(l.strong,{children:"Dessin :"})," Dessine la frame actuelle (",(0,s.jsx)(l.code,{children:"self.animations[self.current_anim][self.frame_index]"}),"), en appliquant une ",(0,s.jsx)(l.strong,{children:"rotation"})," autour du centre par ",(0,s.jsx)(l.code,{children:"pygame.transform.rotate"}),"."]}),"\n"]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.h2,{id:"m\xe9thodes-de-position-et-mouvement",children:"M\xe9thodes de Position et Mouvement"}),"\n",(0,s.jsx)(l.h3,{id:"get_center",children:(0,s.jsx)(l.code,{children:"get_center"})}),"\n",(0,s.jsx)(l.p,{children:"Calcule et retourne les coordonn\xe9es du centre de l'entit\xe9 en pixels."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def get_center(self) -> Tuple[int, int]\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Retour"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Tuple[int, int]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Coordonn\xe9es ",(0,s.jsx)(l.code,{children:"(x, y)"})," du centre de l'entit\xe9."]}),(0,s.jsx)(l.td,{style:{textAlign:"left"}})]})})]}),"\n",(0,s.jsx)(l.h3,{id:"set_target",children:(0,s.jsx)(l.code,{children:"set_target"})}),"\n",(0,s.jsx)(l.p,{children:"D\xe9finit la cible de d\xe9placement et calcule le vecteur direction et l'angle vers cette cible."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:'def set_target(self, target: Tuple[int, int], angle_targeted: bool = True, image_facing: str = "up")\n'})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(l.tbody,{children:[(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"target"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"Tuple[int, int]"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Les coordonn\xe9es ",(0,s.jsx)(l.code,{children:"(x, y)"})," en pixels de la cible."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"angle_targeted"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"bool"})}),(0,s.jsxs)(l.td,{style:{textAlign:"left"},children:["Si ",(0,s.jsx)(l.code,{children:"True"}),", met \xe0 jour l'angle cible (",(0,s.jsx)(l.code,{children:"self.target_angle"}),") pour une rotation progressive (par d\xe9faut : ",(0,s.jsx)(l.code,{children:"True"}),"). Sinon, met \xe0 jour ",(0,s.jsx)(l.code,{children:"self.angle"})," imm\xe9diatement."]})]}),(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"image_facing"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"str"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:'Orientation par d\xe9faut de l\'image ("up", "down", "left", "right") pour corriger l\'angle de rotation (par d\xe9faut : "up").'})]})]})]}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Calcule le vecteur de direction unitaire (",(0,s.jsx)(l.code,{children:"self.vx"}),", ",(0,s.jsx)(l.code,{children:"self.vy"}),")."]}),"\n",(0,s.jsxs)(l.li,{children:["Calcule l'angle de rotation n\xe9cessaire (",(0,s.jsx)(l.code,{children:"self.target_angle"})," ou ",(0,s.jsx)(l.code,{children:"self.angle"}),") en tenant compte de l'orientation par d\xe9faut de l'image."]}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"move",children:(0,s.jsx)(l.code,{children:"move"})}),"\n",(0,s.jsxs)(l.p,{children:["D\xe9place l'entit\xe9 en direction de la cible \xe0 la vitesse ",(0,s.jsx)(l.code,{children:"self.speed"}),"."]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def move(self)\n"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["Le d\xe9placement cesse (",(0,s.jsx)(l.code,{children:"self.active = False"}),") lorsque l'entit\xe9 atteint ou d\xe9passe la cible, d\xe9termin\xe9 par le produit scalaire."]}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"set_angle",children:(0,s.jsx)(l.code,{children:"set_angle"})}),"\n",(0,s.jsx)(l.p,{children:"D\xe9finit l'angle de rotation de l'entit\xe9 imm\xe9diatement."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def set_angle(self, angle: float)\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"angle"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"float"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Angle cible en degr\xe9s (0\xb0 = orientation initiale de l'image)."})]})})]}),"\n",(0,s.jsx)(l.h3,{id:"slow_set_angle",children:(0,s.jsx)(l.code,{children:"slow_set_angle"})}),"\n",(0,s.jsxs)(l.p,{children:["Met \xe0 jour l'angle actuel (",(0,s.jsx)(l.code,{children:"self.angle"}),") pour qu'il se rapproche progressivement de l'",(0,s.jsx)(l.code,{children:"self.target_angle"}),"."]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def slow_set_angle(self)\n"})}),"\n",(0,s.jsxs)(l.ul,{children:["\n",(0,s.jsxs)(l.li,{children:["La rotation est limit\xe9e par ",(0,s.jsx)(l.code,{children:"self.max_delta"})," \xe0 chaque appel pour cr\xe9er un mouvement de rotation fluide."]}),"\n"]}),"\n",(0,s.jsx)(l.h3,{id:"set_target_angle",children:(0,s.jsx)(l.code,{children:"set_target_angle"})}),"\n",(0,s.jsxs)(l.p,{children:["D\xe9finit l'angle cible pour la rotation progressive (utilis\xe9 par ",(0,s.jsx)(l.code,{children:"slow_set_angle"}),")."]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def set_target_angle(self, angle: float)\n"})}),"\n",(0,s.jsxs)(l.table,{children:[(0,s.jsx)(l.thead,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(l.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(l.tbody,{children:(0,s.jsxs)(l.tr,{children:[(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"angle"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:(0,s.jsx)(l.code,{children:"float"})}),(0,s.jsx)(l.td,{style:{textAlign:"left"},children:"Angle cible en degr\xe9s (0\xb0 = orientation initiale de l'image)."})]})})]}),"\n",(0,s.jsx)(l.hr,{}),"\n",(0,s.jsx)(l.h2,{id:"m\xe9thodes-de-classe-pour-la-gestion-globale",children:"M\xe9thodes de Classe pour la Gestion Globale"}),"\n",(0,s.jsxs)(l.p,{children:["Ces m\xe9thodes n'affectent que les instances de la classe ",(0,s.jsx)(l.em,{children:"sp\xe9cifique"})," \xe0 partir de laquelle elles sont appel\xe9es (y compris les sous-classes)."]}),"\n",(0,s.jsx)(l.h3,{id:"update_all",children:(0,s.jsx)(l.code,{children:"update_all"})}),"\n",(0,s.jsxs)(l.p,{children:["Met \xe0 jour et dessine toutes les instances d'",(0,s.jsx)(l.code,{children:"Animator"})," (ou d'une sous-classe) qui ont \xe9t\xe9 enregistr\xe9es dans ",(0,s.jsx)(l.code,{children:"liste_animation"}),"."]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"@classmethod\ndef update_all(cls)\n"})}),"\n",(0,s.jsx)(l.h3,{id:"erase_all",children:(0,s.jsx)(l.code,{children:"erase_all"})}),"\n",(0,s.jsxs)(l.p,{children:["Appelle ",(0,s.jsx)(l.code,{children:"erase()"})," sur toutes les instances d'",(0,s.jsx)(l.code,{children:"Animator"})," (ou d'une sous-classe) pour effacer leur affichage."]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"@classmethod\ndef erase_all(cls)\n"})}),"\n",(0,s.jsx)(l.h3,{id:"remove_from_list",children:(0,s.jsx)(l.code,{children:"remove_from_list"})}),"\n",(0,s.jsx)(l.p,{children:"Retire l'instance actuelle de la liste d'animations de sa classe."}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"def remove_from_list(self)\n"})}),"\n",(0,s.jsx)(l.h3,{id:"clear_list",children:(0,s.jsx)(l.code,{children:"clear_list"})}),"\n",(0,s.jsxs)(l.p,{children:["Vide enti\xe8rement la liste d'animations (",(0,s.jsx)(l.code,{children:"liste_animation"}),") pour cette classe."]}),"\n",(0,s.jsx)(l.pre,{children:(0,s.jsx)(l.code,{className:"language-python",children:"@classmethod\ndef clear_list(cls)\n"})})]})}function h(e={}){const{wrapper:l}={...(0,i.R)(),...e.components};return l?(0,s.jsx)(l,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,l,t)=>{t.d(l,{R:()=>d,x:()=>r});var n=t(6540);const s={},i=n.createContext(s);function d(e){const l=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(i.Provider,{value:l},e.children)}}}]);