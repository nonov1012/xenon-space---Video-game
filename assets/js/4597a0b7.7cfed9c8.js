"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9420],{2753:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>r,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"technicals/classes/animation/FloatingText","title":"FloatingText","description":"La classe FloatingText g\xe8re l\'affichage de messages textuels \xe9ph\xe9m\xe8res qui s\'\xe9l\xe8vent et disparaissent progressivement (effet de fondu) \xe0 l\'\xe9cran, typiquement utilis\xe9s pour afficher les d\xe9g\xe2ts subis, les gains de points, ou de br\xe8ves notifications.","source":"@site/docs/technicals/classes/animation/5-FloatingText.md","sourceDirName":"technicals/classes/animation","slug":"/technicals/classes/animation/FloatingText","permalink":"/xenon-space---Video-game/docs/technicals/classes/animation/FloatingText","draft":false,"unlisted":false,"editUrl":"https://github.com/nonov1012/xenon-space---Video-game/tree/main/website/docs/technicals/classes/animation/5-FloatingText.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"technicalSidebar","previous":{"title":"ShipAnimator","permalink":"/xenon-space---Video-game/docs/technicals/classes/animation/ShipAnimator"},"next":{"title":"Autre Fonctionnalit\xe9e","permalink":"/xenon-space---Video-game/docs/technicals/classes/animation/Autre"}}');var n=s(4848),i=s(8453);const d={},c="FloatingText",r={},a=[{value:"Attribut de Classe",id:"attribut-de-classe",level:2},{value:"<code>instances</code>",id:"instances",level:3},{value:"Constructeur",id:"constructeur",level:2},{value:"Param\xe8tres",id:"param\xe8tres",level:3},{value:"Attributs Initialis\xe9s",id:"attributs-initialis\xe9s",level:3},{value:"M\xe9thodes d&#39;Instance",id:"m\xe9thodes-dinstance",level:2},{value:"<code>update</code>",id:"update",level:3},{value:"<code>draw</code>",id:"draw",level:3},{value:"M\xe9thodes de Classe",id:"m\xe9thodes-de-classe",level:2},{value:"<code>update_all</code>",id:"update_all",level:3},{value:"<code>draw_all</code>",id:"draw_all",level:3},{value:"<code>update_and_draw_all</code>",id:"update_and_draw_all",level:3}];function h(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"floatingtext",children:(0,n.jsx)(t.code,{children:"FloatingText"})})}),"\n",(0,n.jsxs)(t.p,{children:["La classe ",(0,n.jsx)(t.code,{children:"FloatingText"})," g\xe8re l'affichage de messages textuels \xe9ph\xe9m\xe8res qui s'\xe9l\xe8vent et disparaissent progressivement (effet de fondu) \xe0 l'\xe9cran, typiquement utilis\xe9s pour afficher les d\xe9g\xe2ts subis, les gains de points, ou de br\xe8ves notifications."]}),"\n",(0,n.jsx)(t.h2,{id:"attribut-de-classe",children:"Attribut de Classe"}),"\n",(0,n.jsx)(t.h3,{id:"instances",children:(0,n.jsx)(t.code,{children:"instances"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"instances = []\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Liste globale de toutes les instances actives de ",(0,n.jsx)(t.code,{children:"FloatingText"}),". Chaque nouvelle instance est automatiquement ajout\xe9e \xe0 cette liste lors de l'initialisation."]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"constructeur",children:"Constructeur"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"def __init__(self, text, pos, color=(255, 255, 255), lifetime=1.0, rise_speed=30):\n"})}),"\n",(0,n.jsx)(t.h3,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Nom"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"text"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"str"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Le message \xe0 afficher."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"pos"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"Tuple[int, int]"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["La position initiale du texte en pixels. Stock\xe9 dans un ",(0,n.jsx)(t.code,{children:"pygame.Vector2"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"color"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"Tuple[int, int, int]"})}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["La couleur RVB du texte (d\xe9faut : blanc ",(0,n.jsx)(t.code,{children:"(255, 255, 255)"}),")."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"lifetime"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"float"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"La dur\xe9e de vie totale du texte en secondes (d\xe9faut : 1.0)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"rise_speed"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"int"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"La vitesse de mont\xe9e du texte en pixels par seconde (d\xe9faut : 30)."})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"attributs-initialis\xe9s",children:"Attributs Initialis\xe9s"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"self.age"}),": \xc2ge actuel du texte en secondes, initialis\xe9 \xe0 ",(0,n.jsx)(t.code,{children:"0"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"self.font"}),": Police Pygame utilis\xe9e (",(0,n.jsx)(t.code,{children:'"consolas"'}),", taille ",(0,n.jsx)(t.code,{children:"20"}),")."]}),"\n",(0,n.jsxs)(t.li,{children:["L'instance est automatiquement ajout\xe9e \xe0 ",(0,n.jsx)(t.code,{children:"FloatingText.instances"}),"."]}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"m\xe9thodes-dinstance",children:"M\xe9thodes d'Instance"}),"\n",(0,n.jsx)(t.h3,{id:"update",children:(0,n.jsx)(t.code,{children:"update"})}),"\n",(0,n.jsx)(t.p,{children:"Met \xe0 jour la position et l'\xe2ge de l'instance."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"def update(self, dt):\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"dt"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"float"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Le temps \xe9coul\xe9 depuis la derni\xe8re mise \xe0 jour, en secondes."})]})})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"\xc2ge :"})," ",(0,n.jsx)(t.code,{children:"self.age"})," est incr\xe9ment\xe9 de ",(0,n.jsx)(t.code,{children:"dt"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Position :"})," La coordonn\xe9e Y (",(0,n.jsx)(t.code,{children:"self.pos.y"}),") est diminu\xe9e de ",(0,n.jsx)(t.code,{children:"self.rise_speed * dt"})," pour simuler l'\xe9l\xe9vation."]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"draw",children:(0,n.jsx)(t.code,{children:"draw"})}),"\n",(0,n.jsx)(t.p,{children:"Dessine le texte sur la surface et g\xe8re sa disparition."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"def draw(self, surface):\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"surface"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"pygame.Surface"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"La surface sur laquelle dessiner le texte."})]})})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Calcul Alpha (Transparence) :"})," L'opacit\xe9 est calcul\xe9e de mani\xe8re lin\xe9aire"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Suppression Automatique :"})," Si ",(0,n.jsx)(t.code,{children:"alpha"})," est inf\xe9rieur ou \xe9gal \xe0 0, l'instance est retir\xe9e de la liste globale ",(0,n.jsx)(t.code,{children:"FloatingText.instances"}),", et le dessin est interrompu."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Dessin :"})," Le texte est rendu, sa transparence est ajust\xe9e avec ",(0,n.jsx)(t.code,{children:"text_surf.set_alpha(int(alpha))"}),", puis il est dessin\xe9 au centre de sa position X (",(0,n.jsx)(t.code,{children:"self.pos.x - text_surf.get_width()//2"}),") sur la surface."]}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"m\xe9thodes-de-classe",children:"M\xe9thodes de Classe"}),"\n",(0,n.jsx)(t.h3,{id:"update_all",children:(0,n.jsx)(t.code,{children:"update_all"})}),"\n",(0,n.jsxs)(t.p,{children:["Met \xe0 jour la position et l'\xe2ge de ",(0,n.jsx)(t.strong,{children:"toutes"})," les instances de ",(0,n.jsx)(t.code,{children:"FloatingText"})," actives."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"@classmethod\ndef update_all(cls, dt):\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"dt"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"float"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Le temps \xe9coul\xe9 en secondes."})]})})]}),"\n",(0,n.jsx)(t.h3,{id:"draw_all",children:(0,n.jsx)(t.code,{children:"draw_all"})}),"\n",(0,n.jsxs)(t.p,{children:["Dessine ",(0,n.jsx)(t.strong,{children:"toutes"})," les instances de ",(0,n.jsx)(t.code,{children:"FloatingText"})," actives sur la surface donn\xe9e."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"@classmethod\ndef draw_all(cls, surface):\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"surface"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"pygame.Surface"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"La surface cible du dessin."})]})})]}),"\n",(0,n.jsx)(t.h3,{id:"update_and_draw_all",children:(0,n.jsx)(t.code,{children:"update_and_draw_all"})}),"\n",(0,n.jsx)(t.p,{children:"M\xe9thode combin\xe9e pour simplifier le cycle de vie du texte flottant dans la boucle principale du jeu."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"@classmethod\ndef update_and_draw_all(cls, surface, dt):\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"surface"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"pygame.Surface"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"La surface cible du dessin."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"dt"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"float"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Le temps \xe9coul\xe9 en secondes."})]})]})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["Appelle s\xe9quentiellement ",(0,n.jsx)(t.code,{children:"cls.update_all(dt)"})," puis ",(0,n.jsx)(t.code,{children:"cls.draw_all(surface)"}),"."]}),"\n"]})]})}function x(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>d,x:()=>c});var l=s(6540);const n={},i=l.createContext(n);function d(e){const t=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),l.createElement(i.Provider,{value:t},e.children)}}}]);