"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9024],{6532:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"technicals/classes/animation/PlanetAnimator","title":"PlanetAnimator","description":"La classe PlanetAnimator h\xe9rite de la classe Animator et est sp\xe9cifiquement con\xe7ue pour g\xe9rer l\'affichage et l\'animation des plan\xe8tes. Elle ajoute une fonctionnalit\xe9 cl\xe9 : la g\xe9n\xe9ration et l\'affichage d\'une atmosph\xe8re autour de l\'entit\xe9.","source":"@site/docs/technicals/classes/animation/2-PlanetAnimator.md","sourceDirName":"technicals/classes/animation","slug":"/technicals/classes/animation/PlanetAnimator","permalink":"/xenon-space---Video-game/docs/technicals/classes/animation/PlanetAnimator","draft":false,"unlisted":false,"editUrl":"https://github.com/nonov1012/xenon-space---Video-game/tree/main/website/docs/technicals/classes/animation/2-PlanetAnimator.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Animator","permalink":"/xenon-space---Video-game/docs/technicals/classes/animation/Animator"},"next":{"title":"ProjectileAnimator","permalink":"/xenon-space---Video-game/docs/technicals/classes/animation/ProjectileAnimator"}}');var s=n(4848),i=n(8453);const r={},d="PlanetAnimator",a={},c=[{value:"H\xe9rite de <code>Animator</code>",id:"h\xe9rite-de-animator",level:2},{value:"Constructeur",id:"constructeur",level:2},{value:"Param\xe8tres",id:"param\xe8tres",level:3},{value:"Fonctionnement",id:"fonctionnement",level:3},{value:"M\xe9thodes Surcharg\xe9es",id:"m\xe9thodes-surcharg\xe9es",level:2},{value:"<code>update_and_draw</code>",id:"update_and_draw",level:3},{value:"<code>play</code>",id:"play",level:3},{value:"M\xe9thodes Sp\xe9cifiques \xe0 l&#39;Atmosph\xe8re",id:"m\xe9thodes-sp\xe9cifiques-\xe0-latmosph\xe8re",level:2},{value:"<code>draw_atmosphere</code>",id:"draw_atmosphere",level:3},{value:"<code>_generate_atmosphere</code> (M\xe9thode Interne)",id:"_generate_atmosphere-m\xe9thode-interne",level:3},{value:"<code>invalidate_atmosphere</code>",id:"invalidate_atmosphere",level:3}];function o(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"planetanimator",children:(0,s.jsx)(t.code,{children:"PlanetAnimator"})})}),"\n",(0,s.jsxs)(t.p,{children:["La classe ",(0,s.jsx)(t.code,{children:"PlanetAnimator"})," h\xe9rite de la classe ",(0,s.jsx)(t.code,{children:"Animator"})," et est sp\xe9cifiquement con\xe7ue pour g\xe9rer l'affichage et l'animation des plan\xe8tes. Elle ajoute une fonctionnalit\xe9 cl\xe9 : la g\xe9n\xe9ration et l'affichage d'une ",(0,s.jsx)(t.strong,{children:"atmosph\xe8re"})," autour de l'entit\xe9."]}),"\n",(0,s.jsxs)(t.p,{children:["Elle utilise le chemin de base d\xe9fini par la constante ",(0,s.jsx)(t.code,{children:"PLANETES_PATH"})," pour charger les assets."]}),"\n",(0,s.jsxs)(t.h2,{id:"h\xe9rite-de-animator",children:["H\xe9rite de ",(0,s.jsx)(t.a,{href:"/xenon-space---Video-game/docs/technicals/classes/animation/Animator",children:(0,s.jsx)(t.code,{children:"Animator"})})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"constructeur",children:"Constructeur"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"def __init__(self, dimensions, coord, default_fps=10, speed=1):\n"})}),"\n",(0,s.jsx)(t.h3,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Nom"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"dimensions"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"Tuple[int, int]"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Dimensions de la plan\xe8te en ",(0,s.jsx)(t.strong,{children:"nombre de cases"})," (",(0,s.jsx)(t.code,{children:"width_tiles"}),", ",(0,s.jsx)(t.code,{children:"height_tiles"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"coord"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"Tuple[int, int]"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Coordonn\xe9es initiales ",(0,s.jsx)(t.strong,{children:"en cases"})," (",(0,s.jsx)(t.code,{children:"x"}),", ",(0,s.jsx)(t.code,{children:"y"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"default_fps"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"int"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Nombre de frames par seconde par d\xe9faut pour l'animation (d\xe9faut : 10)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"speed"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"int"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Vitesse de mouvement de la plan\xe8te (d\xe9faut : 1)."})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"fonctionnement",children:"Fonctionnement"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Appelle le constructeur de la classe parente (",(0,s.jsx)(t.code,{children:"Animator"}),") en utilisant ",(0,s.jsx)(t.code,{children:"PLANETES_PATH"})," comme chemin de base."]}),"\n",(0,s.jsxs)(t.li,{children:["Initialise deux attributs priv\xe9s pour l'atmosph\xe8re :","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"self._atmosphere_surface"}),": Surface Pygame pr\xe9-g\xe9n\xe9r\xe9e de l'atmosph\xe8re (",(0,s.jsx)(t.code,{children:"Optional[pygame.Surface]"}),"). Initialis\xe9 \xe0 ",(0,s.jsx)(t.code,{children:"None"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"self._atmosphere_offset"}),": D\xe9calage de position pour le dessin de l'atmosph\xe8re (",(0,s.jsx)(t.code,{children:"Tuple[int, int]"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"m\xe9thodes-surcharg\xe9es",children:"M\xe9thodes Surcharg\xe9es"}),"\n",(0,s.jsx)(t.h3,{id:"update_and_draw",children:(0,s.jsx)(t.code,{children:"update_and_draw"})}),"\n",(0,s.jsx)(t.p,{children:"Met \xe0 jour et dessine l'animation de la plan\xe8te et son atmosph\xe8re."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"def update_and_draw(self):\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Ordre de Dessin :"})," Assure que l'atmosph\xe8re est dessin\xe9e ",(0,s.jsx)(t.strong,{children:"avant"})," la plan\xe8te (",(0,s.jsx)(t.code,{children:"self.draw_atmosphere()"}),"), puis appelle ",(0,s.jsx)(t.code,{children:"super().update_and_draw()"})," pour dessiner la plan\xe8te elle-m\xeame."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"play",children:(0,s.jsx)(t.code,{children:"play"})}),"\n",(0,s.jsx)(t.p,{children:"D\xe9marre ou continue une animation sp\xe9cifique de la plan\xe8te."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"def play(self, name: str, reset: bool = False):\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"name"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"str"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Le nom de l'animation \xe0 jouer."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"reset"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"bool"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Si ",(0,s.jsx)(t.code,{children:"True"}),", r\xe9initialise l'animation (d\xe9faut : ",(0,s.jsx)(t.code,{children:"False"}),")."]})]})]})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Appelle ",(0,s.jsx)(t.code,{children:"super().play()"}),", mais ",(0,s.jsx)(t.strong,{children:"force"})," la taille de frame \xe0 la valeur de la constante globale ",(0,s.jsx)(t.code,{children:"PLANETES_FRAME_SIZE"})," pour toutes les animations de plan\xe8te."]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"m\xe9thodes-sp\xe9cifiques-\xe0-latmosph\xe8re",children:"M\xe9thodes Sp\xe9cifiques \xe0 l'Atmosph\xe8re"}),"\n",(0,s.jsx)(t.h3,{id:"draw_atmosphere",children:(0,s.jsx)(t.code,{children:"draw_atmosphere"})}),"\n",(0,s.jsx)(t.p,{children:"Dessine l'atmosph\xe8re de la plan\xe8te, en la g\xe9n\xe9rant une seule fois si elle n'existe pas encore."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"def draw_atmosphere(self,\n                    color_atmosphere=(0, 200, 255),\n                    thickness_ratio: float = 0.12,\n                    layers: int = 20,\n                    edge_alpha: int = 180):\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Param\xe8tre"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"color_atmosphere"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"Tuple[int, int, int]"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Couleur RVB de l'atmosph\xe8re (d\xe9faut : bleu ciel)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"thickness_ratio"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"float"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Proportion de la taille de la plan\xe8te utilis\xe9e pour l'\xe9paisseur du halo atmosph\xe9rique (d\xe9faut : 0.12)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"layers"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"int"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Nombre de cercles concentriques dessin\xe9s pour cr\xe9er le d\xe9grad\xe9 (d\xe9faut : 20)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"edge_alpha"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"int"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Transparence maximale (alpha, 0-255) \xe0 la bordure ext\xe9rieure (d\xe9faut : 180)."})]})]})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Si ",(0,s.jsx)(t.code,{children:"self._atmosphere_surface"})," est ",(0,s.jsx)(t.code,{children:"None"}),", appelle ",(0,s.jsx)(t.code,{children:"self._generate_atmosphere"})," pour cr\xe9er la surface."]}),"\n",(0,s.jsxs)(t.li,{children:["Dessine la surface de l'atmosph\xe8re sur ",(0,s.jsx)(t.code,{children:"Animator.screen"})," en utilisant l'offset calcul\xe9."]}),"\n"]}),"\n",(0,s.jsxs)(t.h3,{id:"_generate_atmosphere-m\xe9thode-interne",children:[(0,s.jsx)(t.code,{children:"_generate_atmosphere"})," (M\xe9thode Interne)"]}),"\n",(0,s.jsx)(t.p,{children:"G\xe9n\xe8re la surface Pygame de l'atmosph\xe8re avec un effet de d\xe9grad\xe9."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"def _generate_atmosphere(self, color_atmosphere, thickness_ratio, layers, edge_alpha) -> Tuple[pygame.Surface, Tuple[int, int]]:\n"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Retour"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"Tuple[pygame.Surface, Tuple[int, int]]"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["La surface de l'atmosph\xe8re (avec ",(0,s.jsx)(t.code,{children:"SRCALPHA"}),") et l'offset ",(0,s.jsx)(t.code,{children:"(dx, dy)"})," \xe0 appliquer lors du dessin."]}),(0,s.jsx)(t.td,{style:{textAlign:"left"}})]})})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Utilise ",(0,s.jsx)(t.code,{children:"pygame.draw.circle"})," en it\xe9rant de l'ext\xe9rieur vers l'int\xe9rieur pour cr\xe9er un d\xe9grad\xe9 de transparence (canal alpha)."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"invalidate_atmosphere",children:(0,s.jsx)(t.code,{children:"invalidate_atmosphere"})}),"\n",(0,s.jsxs)(t.p,{children:["Force la r\xe9g\xe9n\xe9ration de l'atmosph\xe8re lors du prochain appel \xe0 ",(0,s.jsx)(t.code,{children:"draw_atmosphere"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"def invalidate_atmosphere(self):\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["D\xe9finit ",(0,s.jsx)(t.code,{children:"self._atmosphere_surface"})," \xe0 ",(0,s.jsx)(t.code,{children:"None"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>d});var l=n(6540);const s={},i=l.createContext(s);function r(e){const t=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(i.Provider,{value:t},e.children)}}}]);