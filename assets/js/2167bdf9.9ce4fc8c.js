"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9256],{698:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"technicals/architecture/overview","title":"Architecture Globale","description":"Cette page d\xe9taille l\'architecture technique de Xenon Space, ses patterns de conception et l\'organisation du code.","source":"@site/docs/technicals/architecture/overview.md","sourceDirName":"technicals/architecture","slug":"/technicals/architecture/overview","permalink":"/xenon-space---Video-game/docs/technicals/architecture/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/nonov1012/xenon-space---Video-game/tree/main/website/docs/technicals/architecture/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1}}');var l=s(4848),r=s(8453);const t={sidebar_position:1},a="Architecture Globale",c={},d=[{value:"\ud83c\udfdb\ufe0f Vue d&#39;Ensemble",id:"\ufe0f-vue-densemble",level:2},{value:"Diagramme des Composants",id:"diagramme-des-composants",level:3},{value:"\ud83c\udfaf Patterns de Conception",id:"-patterns-de-conception",level:2},{value:"1. Singleton Pattern",id:"1-singleton-pattern",level:3},{value:"2. Class Variables (Static)",id:"2-class-variables-static",level:3},{value:"3. Inheritance Hierarchy",id:"3-inheritance-hierarchy",level:3},{value:"4. Observer Pattern (Implicite)",id:"4-observer-pattern-implicite",level:3},{value:"\ud83d\udd04 Flux de Donn\xe9es",id:"-flux-de-donn\xe9es",level:2},{value:"Cycle de Vie d&#39;une Action",id:"cycle-de-vie-dune-action",level:3},{value:"Gestion des Tours",id:"gestion-des-tours",level:3},{value:"\ud83d\udce6 Modules Principaux",id:"-modules-principaux",level:2},{value:"Module Core (classes/)",id:"module-core-classes",level:3},{value:"Module Animation (classes/)",id:"module-animation-classes",level:3},{value:"Module Interface (classes/HUD + menu/)",id:"module-interface-classeshud--menu",level:3},{value:"\ud83d\udd27 Syst\xe8mes Transversaux",id:"-syst\xe8mes-transversaux",level:2},{value:"1. Syst\xe8me de Coordonn\xe9es",id:"1-syst\xe8me-de-coordonn\xe9es",level:3},{value:"Coordonn\xe9es Grille (logique)",id:"coordonn\xe9es-grille-logique",level:4},{value:"Coordonn\xe9es \xc9cran (pixels)",id:"coordonn\xe9es-\xe9cran-pixels",level:4},{value:"2. Syst\xe8me de Collision",id:"2-syst\xe8me-de-collision",level:3},{value:"3. Pathfinding (A*)",id:"3-pathfinding-a",level:3},{value:"4. Gestion M\xe9moire des Animations",id:"4-gestion-m\xe9moire-des-animations",level:3},{value:"\u2699\ufe0f Configuration (blazyck.py)",id:"\ufe0f-configuration-blazyckpy",level:2},{value:"\ud83c\udfa8 Pipeline de Rendu",id:"-pipeline-de-rendu",level:2},{value:"\ud83e\uddea Points d&#39;Extension",id:"-points-dextension",level:2},{value:"Ajouter un Nouveau Type de Vaisseau",id:"ajouter-un-nouveau-type-de-vaisseau",level:3},{value:"Ajouter un Nouveau Type de Terrain",id:"ajouter-un-nouveau-type-de-terrain",level:3},{value:"\ud83d\udd0d Debugging et Tests",id:"-debugging-et-tests",level:2},{value:"Affichage de Debug",id:"affichage-de-debug",level:3},{value:"Tests Unitaires des Classes",id:"tests-unitaires-des-classes",level:3},{value:"Fichiers de Test D\xe9di\xe9s",id:"fichiers-de-test-d\xe9di\xe9s",level:3},{value:"\ud83d\udcc8 Performance",id:"-performance",level:2},{value:"Optimisations Impl\xe9ment\xe9es",id:"optimisations-impl\xe9ment\xe9es",level:3},{value:"M\xe9triques Typiques",id:"m\xe9triques-typiques",level:3},{value:"\ud83d\udd17 Liens Utiles",id:"-liens-utiles",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"architecture-globale",children:"Architecture Globale"})}),"\n",(0,l.jsx)(n.p,{children:"Cette page d\xe9taille l'architecture technique de Xenon Space, ses patterns de conception et l'organisation du code."}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-vue-densemble",children:"\ud83c\udfdb\ufe0f Vue d'Ensemble"}),"\n",(0,l.jsxs)(n.p,{children:["Xenon Space utilise une ",(0,l.jsx)(n.strong,{children:"architecture modulaire"})," bas\xe9e sur des classes Python, avec une s\xe9paration claire entre :"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Logique de jeu"})," (classes/)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Interface utilisateur"})," (menu/ + HUD)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Rendu graphique"})," (Animators)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Gestion des ressources"})," (ResourceManager)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"diagramme-des-composants",children:"Diagramme des Composants"}),"\n",(0,l.jsx)(n.h2,{id:"-patterns-de-conception",children:"\ud83c\udfaf Patterns de Conception"}),"\n",(0,l.jsx)(n.h3,{id:"1-singleton-pattern",children:"1. Singleton Pattern"}),"\n",(0,l.jsxs)(n.p,{children:["La classe ",(0,l.jsx)(n.code,{children:"ResourceManager"})," utilise le pattern Singleton pour garantir une seule instance de gestion des ressources :"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"class ResourceManager:\n    _instance = None\n    _initialized = False\n    \n    def __new__(cls):\n        if cls._instance is None:\n            cls._instance = super().__new__(cls)\n        return cls._instance\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Avantages :"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\xc9vite le rechargement multiple des images"}),"\n",(0,l.jsx)(n.li,{children:"Point d'acc\xe8s global aux ressources"}),"\n",(0,l.jsx)(n.li,{children:"Optimisation m\xe9moire"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-class-variables-static",children:"2. Class Variables (Static)"}),"\n",(0,l.jsxs)(n.p,{children:["La classe ",(0,l.jsx)(n.code,{children:"Turn"})," utilise des variables de classe pour g\xe9rer l'\xe9tat global du jeu :"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'class Turn:\n    players: list[Player] = []\n    sentence = "Tour"\n    _nb_turns: float = 1\n    \n    @classmethod\n    def next(cls) -> Optional[Player]:\n        # Passe au joueur suivant\n        pass\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Avantages :"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\xc9tat partag\xe9 entre tous les composants"}),"\n",(0,l.jsx)(n.li,{children:"Pas besoin de passer l'instance partout"}),"\n",(0,l.jsxs)(n.li,{children:["Acc\xe8s direct via ",(0,l.jsx)(n.code,{children:"Turn.players"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"3-inheritance-hierarchy",children:"3. Inheritance Hierarchy"}),"\n",(0,l.jsx)(n.p,{children:"Les vaisseaux utilisent une hi\xe9rarchie d'h\xe9ritage claire :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"Ship (classe m\xe8re)\n\u251c\u2500\u2500 MotherShip\n\u251c\u2500\u2500 Petit\n\u251c\u2500\u2500 Moyen\n\u251c\u2500\u2500 Lourd\n\u251c\u2500\u2500 Foreuse\n\u2514\u2500\u2500 Transport\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Exemple :"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'class Ship:\n    def __init__(self, pv_max, attaque, ...):\n        self.pv_max = pv_max\n        self.attaque = attaque\n    \n    def attaquer(self, cible):\n        # Logique commune\n\nclass Petit(Ship):\n    def __init__(self, cordonner, id, ...):\n        stats = SHIP_STATS["Petit"]\n        super().__init__(\n            pv_max=stats["pv_max"],\n            attaque=stats["attaque"],\n            ...\n        )\n'})}),"\n",(0,l.jsx)(n.h3,{id:"4-observer-pattern-implicite",children:"4. Observer Pattern (Implicite)"}),"\n",(0,l.jsx)(n.p,{children:"Le syst\xe8me d'animation utilise un pattern observateur via des listes de classe :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'class Animator:\n    def __init__(self, ...):\n        cls = self.__class__\n        if not hasattr(cls, "liste_animation"):\n            cls.liste_animation = []\n        cls.liste_animation.append(self)\n    \n    @classmethod\n    def update_all(cls):\n        for animation in cls.liste_animation:\n            animation.update_and_draw()\n'})}),"\n",(0,l.jsx)(n.h2,{id:"-flux-de-donn\xe9es",children:"\ud83d\udd04 Flux de Donn\xe9es"}),"\n",(0,l.jsx)(n.h3,{id:"cycle-de-vie-dune-action",children:"Cycle de Vie d'une Action"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\xc9tapes d\xe9taill\xe9es :"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Utilisateur"})," clique sur une case"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"main.py"})," d\xe9tecte le clic et appelle ",(0,l.jsx)(n.code,{children:"ship.deplacement(case_cible, grille, ships)"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Ship"})," calcule le chemin avec ",(0,l.jsx)(n.code,{children:"a_star(start, end)"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Ship"})," lib\xe8re l'ancienne position sur la grille"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Ship"})," occupe la nouvelle position"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"ShipAnimator"})," re\xe7oit la cible avec ",(0,l.jsx)(n.code,{children:"set_target()"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"ShipAnimator"})," calcule la trajectoire d'animation"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Turn"})," r\xe9duit le ",(0,l.jsx)(n.code,{children:"port_deplacement"})," du vaisseau"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"main.py"})," appelle ",(0,l.jsx)(n.code,{children:"update_and_draw()"})," \xe0 chaque frame"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Utilisateur"})," voit l'animation de d\xe9placement"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"gestion-des-tours",children:"Gestion des Tours"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Flux du syst\xe8me de tours :"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# \xc9tat initial\nTurn.players = [Player1, Player2]  # Player1 actif\n\n# Pendant le tour\nplayer = Turn.players[0]  # Joueur actif\n# ... actions du joueur ...\n\n# Fin de tour (Entr\xe9e press\xe9e)\nfor ship in Turn.players[0].ships:\n    ship.reset_porters()  # R\xe9initialise d\xe9placement/attaque\n    if isinstance(ship, Foreuse):\n        # Calcul des gains\n        if ship.est_a_cote_planete(grille):\n            ship.gain += PLANETES_REWARD\n        if ship.est_autour_asteroide(grille):\n            ship.gain += ASTEROIDES_REWARD\n\nTurn.players[0].gain()  # Collecte les gains\nTurn.next()  # Passe au joueur suivant\nHUD.change_turn()  # Met \xe0 jour l'interface\n\n# V\xe9rification victoire\nfor player in Turn.players:\n    if not player.getMotherShip() or player.getMotherShip().pv_actuel <= 0:\n        # Fin de partie !\n        winner = [p for p in Turn.players if p != player][0]\n        menuFin.main(ecran, winner, victoire=True)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"-modules-principaux",children:"\ud83d\udce6 Modules Principaux"}),"\n",(0,l.jsx)(n.h3,{id:"module-core-classes",children:"Module Core (classes/)"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Fichier"}),(0,l.jsx)(n.th,{children:"Responsabilit\xe9"}),(0,l.jsx)(n.th,{children:"D\xe9pendances"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Ship.py"})}),(0,l.jsx)(n.td,{children:"Logique des vaisseaux"}),(0,l.jsx)(n.td,{children:"Point, Economie"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"MotherShip.py"})}),(0,l.jsx)(n.td,{children:"Vaisseau-m\xe8re"}),(0,l.jsx)(n.td,{children:"Ship"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Player.py"})}),(0,l.jsx)(n.td,{children:"Gestion joueur"}),(0,l.jsx)(n.td,{children:"Economie, Ship"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Map.py"})}),(0,l.jsx)(n.td,{children:"G\xe9n\xe9ration carte"}),(0,l.jsx)(n.td,{children:"Point, ResourceManager"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Turn.py"})}),(0,l.jsx)(n.td,{children:"Syst\xe8me de tours"}),(0,l.jsx)(n.td,{children:"Player"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Economie.py"})}),(0,l.jsx)(n.td,{children:"Syst\xe8me \xe9conomique"}),(0,l.jsx)(n.td,{children:"-"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Shop.py"})}),(0,l.jsx)(n.td,{children:"Boutique"}),(0,l.jsx)(n.td,{children:"Player, Economie"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"module-animation-classes",children:"Module Animation (classes/)"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Fichier"}),(0,l.jsx)(n.th,{children:"Responsabilit\xe9"}),(0,l.jsx)(n.th,{children:"Parent"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Animator.py"})}),(0,l.jsx)(n.td,{children:"Syst\xe8me de base"}),(0,l.jsx)(n.td,{children:"-"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ShipAnimator.py"})}),(0,l.jsx)(n.td,{children:"Animation vaisseaux"}),(0,l.jsx)(n.td,{children:"Animator"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"PlanetAnimator.py"})}),(0,l.jsx)(n.td,{children:"Animation plan\xe8tes"}),(0,l.jsx)(n.td,{children:"Animator"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ProjectileAnimator.py"})}),(0,l.jsx)(n.td,{children:"Animation projectiles"}),(0,l.jsx)(n.td,{children:"Animator"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"module-interface-classeshud--menu",children:"Module Interface (classes/HUD + menu/)"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Fichier"}),(0,l.jsx)(n.th,{children:"Responsabilit\xe9"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"HUD.py"})}),(0,l.jsx)(n.td,{children:"Interface en jeu"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"BarDisplay.py"})}),(0,l.jsx)(n.td,{children:"Barres de statut"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TurnDisplay.py"})}),(0,l.jsx)(n.td,{children:"Affichage du tour"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FloatingText.py"})}),(0,l.jsx)(n.td,{children:"Textes anim\xe9s"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"menuPrincipal.py"})}),(0,l.jsx)(n.td,{children:"Menu principal"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"menuJouer.py"})}),(0,l.jsx)(n.td,{children:"Personnalisation"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"-syst\xe8mes-transversaux",children:"\ud83d\udd27 Syst\xe8mes Transversaux"}),"\n",(0,l.jsx)(n.h3,{id:"1-syst\xe8me-de-coordonn\xe9es",children:"1. Syst\xe8me de Coordonn\xe9es"}),"\n",(0,l.jsxs)(n.p,{children:["Le jeu utilise ",(0,l.jsx)(n.strong,{children:"deux syst\xe8mes de coordonn\xe9es"})," :"]}),"\n",(0,l.jsx)(n.h4,{id:"coordonn\xe9es-grille-logique",children:"Coordonn\xe9es Grille (logique)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# (ligne, colonne) - pour la logique\nposition = Point(x=5, y=10)  # ligne 5, colonne 10\n"})}),"\n",(0,l.jsx)(n.h4,{id:"coordonn\xe9es-\xe9cran-pixels",children:"Coordonn\xe9es \xc9cran (pixels)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# Conversion grille \u2192 \xe9cran\npixel_x = colonne * TAILLE_CASE + OFFSET_X\npixel_y = ligne * TAILLE_CASE\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u26a0\ufe0f Attention :"})," Les coordonn\xe9es sont parfois invers\xe9es selon le contexte !"]}),"\n",(0,l.jsx)(n.h3,{id:"2-syst\xe8me-de-collision",children:"2. Syst\xe8me de Collision"}),"\n",(0,l.jsx)(n.p,{children:"La d\xe9tection de collision v\xe9rifie plusieurs crit\xe8res :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"def verifier_collision(self, grille, ligne, colonne, direction):\n    largeur, hauteur = self.donner_dimensions(direction)\n    \n    # V\xe9rification limites\n    if ligne < 0 or colonne < 0:\n        return False\n    \n    # V\xe9rification obstacles\n    types_bloquants = [Type.PLANETE, Type.ASTEROIDE, \n                       Type.BASE, Type.VAISSEAU]\n    for l in range(ligne, ligne + hauteur):\n        for c in range(colonne, colonne + largeur):\n            if grille[l][c].type in types_bloquants:\n                return False\n    \n    return True\n"})}),"\n",(0,l.jsx)(n.h3,{id:"3-pathfinding-a",children:"3. Pathfinding (A*)"}),"\n",(0,l.jsx)(n.p,{children:"Le d\xe9placement utilise l'algorithme A* avec co\xfbt variable selon le terrain :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"cout_case = {\n    Type.VIDE: 1,        # D\xe9placement normal\n    Type.ATMOSPHERE: 2   # D\xe9placement ralenti\n}\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Optimisations :"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Limitation \xe0 la port\xe9e du vaisseau (",(0,l.jsx)(n.code,{children:"max_portee"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Heuristique de Manhattan"}),"\n",(0,l.jsx)(n.li,{children:"Cache des positions visit\xe9es"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"4-gestion-m\xe9moire-des-animations",children:"4. Gestion M\xe9moire des Animations"}),"\n",(0,l.jsx)(n.p,{children:"Les animations sont g\xe9r\xe9es par des listes de classe pour \xe9viter les fuites m\xe9moire :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'@classmethod\ndef update_all(cls):\n    for animation in getattr(cls, "liste_animation", []):\n        animation.update_and_draw()\n\n@classmethod\ndef clear_list(cls):\n    if hasattr(cls, "liste_animation"):\n        cls.liste_animation.clear()\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Usage :"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# Nettoyage en fin de partie\nShipAnimator.clear_list()\nPlanetAnimator.clear_list()\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-configuration-blazyckpy",children:"\u2699\ufe0f Configuration (blazyck.py)"}),"\n",(0,l.jsxs)(n.p,{children:["Le fichier ",(0,l.jsx)(n.code,{children:"blazyck.py"})," centralise toutes les constantes :"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# Dimensions \xe9cran\nSCREEN_WIDTH = info.current_w\nSCREEN_HEIGHT = info.current_h\n\n# Grille\nNB_CASE_X = 50\nNB_CASE_Y = 30\nTAILLE_CASE = (SCREEN_HEIGHT - BAR_HEIGHT) // NB_CASE_Y\n\n# Gameplay\nPLANETES_REWARD = 150\nASTEROIDES_REWARD = 100\nPOURCENT_DEATH_REWARD = 0.6\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Avantages :"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Modification facile des valeurs"}),"\n",(0,l.jsx)(n.li,{children:"Pas de magic numbers"}),"\n",(0,l.jsxs)(n.li,{children:["Import unique : ",(0,l.jsx)(n.code,{children:"from blazyck import *"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"-pipeline-de-rendu",children:"\ud83c\udfa8 Pipeline de Rendu"}),"\n",(0,l.jsx)(n.p,{children:"Le rendu suit un ordre strict pour g\xe9rer la superposition :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"def draw_game(ecran, ...):\n    # 1. Fond spatial\n    stars.update()\n    stars.draw(ecran)\n    \n    # 2. Grille et terrain\n    map_obj.generer_grille(ecran)\n    \n    # 3. Ast\xe9ro\xefdes statiques\n    for (ax, ay), img in map_obj.asteroide_img_map.items():\n        ecran.blit(img, ...)\n    \n    # 4. Pr\xe9visualisations (transparentes)\n    if selection_ship:\n        selection_ship.prevision.update_and_draw()\n    \n    # 5. Entit\xe9s anim\xe9es\n    Animator.update_all()\n    PlanetAnimator.update_all()\n    ShipAnimator.update_all()\n    ProjectileAnimator.update_all()\n    \n    # 6. Textes flottants\n    FloatingText.update_and_draw_all(ecran, dt)\n    \n    # 7. Interface (HUD + Shop)\n    HUD.update_and_draw()\n    shop.draw()\n    \n    # 8. Curseur (toujours au-dessus)\n    ecran.blit(new_cursor, position_souris)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"-points-dextension",children:"\ud83e\uddea Points d'Extension"}),"\n",(0,l.jsx)(n.h3,{id:"ajouter-un-nouveau-type-de-vaisseau",children:"Ajouter un Nouveau Type de Vaisseau"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"D\xe9finir les stats"})," dans ",(0,l.jsx)(n.code,{children:"menu/modifShips.py"})," :"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'SHIP_STATS["NouveauVaisseau"] = {\n    "pv_max": 500,\n    "attaque": 100,\n    # ...\n}\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Cr\xe9er la classe"})," dans ",(0,l.jsx)(n.code,{children:"classes/Ship.py"})," :"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'class NouveauVaisseau(Ship):\n    def __init__(self, cordonner, id, ...):\n        stats = SHIP_STATS["NouveauVaisseau"]\n        super().__init__(...)\n'})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Ajouter les assets"})," dans ",(0,l.jsx)(n.code,{children:"assets/img/ships/nouveauvaisseau/"})]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Mettre \xe0 jour le Shop"})," dans ",(0,l.jsx)(n.code,{children:"classes/Shop.py"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"ajouter-un-nouveau-type-de-terrain",children:"Ajouter un Nouveau Type de Terrain"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Ajouter l'enum"})," dans ",(0,l.jsx)(n.code,{children:"classes/Point.py"})," :"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"class Type(Enum):\n    NOUVEAU_TYPE = 6\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"D\xe9finir le comportement"})," dans ",(0,l.jsx)(n.code,{children:"classes/Ship.py"})," :"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"cout_case = {\n    Type.VIDE: 1,\n    Type.ATMOSPHERE: 2,\n    Type.NOUVEAU_TYPE: 3  # Plus lent\n}\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"3",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Ajouter la g\xe9n\xe9ration"})," dans ",(0,l.jsx)(n.code,{children:"classes/Map.py"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"-debugging-et-tests",children:"\ud83d\udd0d Debugging et Tests"}),"\n",(0,l.jsx)(n.h3,{id:"affichage-de-debug",children:"Affichage de Debug"}),"\n",(0,l.jsx)(n.p,{children:"Le jeu inclut des modes de visualisation :"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# Afficher la grille (LCTRL)\nafficher_grille = True\n\n# Afficher les zones (LSHIFT maintenu)\nafficher_zones = keys[pygame.K_LSHIFT]\n\n# Couleurs de debug\ncolors = {\n    Type.VIDE: (0, 0, 0, 0),\n    Type.PLANETE: (255, 215, 0, 128),\n    Type.VAISSEAU: (255, 0, 0, 128),\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"tests-unitaires-des-classes",children:"Tests Unitaires des Classes"}),"\n",(0,l.jsxs)(n.p,{children:["Plusieurs fichiers incluent des ",(0,l.jsx)(n.code,{children:'if __name__ == "__main__":'})," pour tester isol\xe9ment :"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# classes/Point.py\nif __name__ == "__main__":\n    A = Point(1, 2, Type.VIDE)\n    print(A)  # (1, 2, VIDE)\n'})}),"\n",(0,l.jsx)(n.h3,{id:"fichiers-de-test-d\xe9di\xe9s",children:"Fichiers de Test D\xe9di\xe9s"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"classes/Test_Animator/planets.py"})," - Test animations plan\xe8tes"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"classes/Test_Animator/projectiles.py"})," - Test projectiles"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"mainshop.py"})," - Test du syst\xe8me de boutique"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"-performance",children:"\ud83d\udcc8 Performance"}),"\n",(0,l.jsx)(n.h3,{id:"optimisations-impl\xe9ment\xe9es",children:"Optimisations Impl\xe9ment\xe9es"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Pr\xe9chargement des ressources"})," (ResourceManager)"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Toutes les images sont charg\xe9es au d\xe9marrage"}),"\n",(0,l.jsx)(n.li,{children:"\xc9vite les IO pendant le jeu"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Cache des chemins A"}),"*"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Les positions visit\xe9es sont m\xe9moris\xe9es"}),"\n",(0,l.jsx)(n.li,{children:"\xc9vite les recalculs"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Clipping de zone"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Seules les zones visibles sont dessin\xe9es"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"ecran.set_clip(zone_scroll)\n# ... dessiner ...\necran.set_clip(None)\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Update conditionnel"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Les animations hors \xe9cran ne sont pas mises \xe0 jour"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"m\xe9triques-typiques",children:"M\xe9triques Typiques"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"FPS cible"})," : 60 (main loop) / 30 (menus)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Temps de chargement"})," : ~2-5s (50 plan\xe8tes)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"M\xe9moire"})," : ~200-300 MB (avec assets)"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"-liens-utiles",children:"\ud83d\udd17 Liens Utiles"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/ship/",children:"Classes Principales \u2192"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/Turn",children:"Syst\xe8me de Tours \u2192"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/animation/Animator",children:"Syst\xe8me d'Animation \u2192"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Prochaine \xe9tape"})," : Explorez les ",(0,l.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/ship/",children:"Classes Principales"})," pour comprendre la logique m\xe9tier."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(6540);const l={},r=i.createContext(l);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);