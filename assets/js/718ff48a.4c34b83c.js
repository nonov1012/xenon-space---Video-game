"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2570],{7464:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"technicals/classes/Economie","title":"Economie","description":"La classe Economie est responsable de la gestion de la monnaie d\'un joueur dans Xenon Space. Elle fournit une interface simple et s\xe9curis\xe9e pour toutes les transactions financi\xe8res (ajouts, retraits, v\xe9rifications).","source":"@site/docs/technicals/classes/Economie.md","sourceDirName":"technicals/classes","slug":"/technicals/classes/Economie","permalink":"/xenon-space---Video-game/docs/technicals/classes/Economie","draft":false,"unlisted":false,"editUrl":"https://github.com/nonov1012/xenon-space---Video-game/tree/main/website/docs/technicals/classes/Economie.md","tags":[],"version":"current","frontMatter":{},"sidebar":"technicalSidebar","previous":{"title":"Classes Principales","permalink":"/xenon-space---Video-game/docs/technicals/classes/principale_class"},"next":{"title":"La map","permalink":"/xenon-space---Video-game/docs/technicals/classes/Map"}}');var r=s(4848),t=s(8453);const l={},a="Economie",d={},o=[{value:"\ud83d\udccb Vue d&#39;ensemble",id:"-vue-densemble",level:2},{value:"\ud83c\udfd7\ufe0f Constructeur",id:"\ufe0f-constructeur",level:2},{value:"Param\xe8tres",id:"param\xe8tres",level:3},{value:"Attributs initialis\xe9s",id:"attributs-initialis\xe9s",level:3},{value:"Exemples d&#39;initialisation",id:"exemples-dinitialisation",level:3},{value:"\ud83d\udcb0 M\xe9thodes publiques",id:"-m\xe9thodes-publiques",level:2},{value:"<code>ajouter</code>",id:"ajouter",level:3},{value:"Param\xe8tres",id:"param\xe8tres-1",level:4},{value:"Retour",id:"retour",level:4},{value:"Comportement",id:"comportement",level:4},{value:"Exemples d&#39;utilisation",id:"exemples-dutilisation",level:4},{value:"<code>retirer</code>",id:"retirer",level:3},{value:"Param\xe8tres",id:"param\xe8tres-2",level:4},{value:"Retour",id:"retour-1",level:4},{value:"Conditions de succ\xe8s",id:"conditions-de-succ\xe8s",level:4},{value:"Comportement",id:"comportement-1",level:4},{value:"Exemples d&#39;utilisation",id:"exemples-dutilisation-1",level:4},{value:"<code>peut_payer</code>",id:"peut_payer",level:3},{value:"Param\xe8tres",id:"param\xe8tres-3",level:4},{value:"Retour",id:"retour-2",level:4},{value:"Comportement",id:"comportement-2",level:4},{value:"Exemples d&#39;utilisation",id:"exemples-dutilisation-2",level:4},{value:"<code>etat</code>",id:"etat",level:3},{value:"Retour",id:"retour-3",level:4},{value:"Exemple d&#39;utilisation",id:"exemple-dutilisation",level:4},{value:"\ud83d\udd04 Flux d&#39;utilisation typique",id:"-flux-dutilisation-typique",level:2},{value:"Dans le contexte d&#39;un achat",id:"dans-le-contexte-dun-achat",level:3},{value:"Dans le contexte de gains",id:"dans-le-contexte-de-gains",level:3},{value:"\ud83c\udfaf Cas d&#39;usage dans le jeu",id:"-cas-dusage-dans-le-jeu",level:2},{value:"1. Initialisation des joueurs",id:"1-initialisation-des-joueurs",level:3},{value:"2. Achat de vaisseau (Shop)",id:"2-achat-de-vaisseau-shop",level:3},{value:"3. Gains de fin de tour (Player)",id:"3-gains-de-fin-de-tour-player",level:3},{value:"4. Am\xe9lioration de base (MotherShip)",id:"4-am\xe9lioration-de-base-mothership",level:3},{value:"\ud83d\udcca Diagramme de s\xe9quence",id:"-diagramme-de-s\xe9quence",level:2},{value:"Achat complet",id:"achat-complet",level:3},{value:"\ud83d\udee1\ufe0f Protection et s\xe9curit\xe9",id:"\ufe0f-protection-et-s\xe9curit\xe9",level:2},{value:"Protections impl\xe9ment\xe9es",id:"protections-impl\xe9ment\xe9es",level:3},{value:"Tests de robustesse",id:"tests-de-robustesse",level:3},{value:"\ud83d\udd0d Cas limites",id:"-cas-limites",level:2},{value:"Montants n\xe9gatifs",id:"montants-n\xe9gatifs",level:3},{value:"Solde \xe0 z\xe9ro",id:"solde-\xe0-z\xe9ro",level:3},{value:"Conversion de types",id:"conversion-de-types",level:3},{value:"\ud83c\udf93 Exemples avanc\xe9s",id:"-exemples-avanc\xe9s",level:2},{value:"Pattern de transaction atomique",id:"pattern-de-transaction-atomique",level:3},{value:"Historique des transactions",id:"historique-des-transactions",level:3},{value:"\ud83e\uddea Tests unitaires",id:"-tests-unitaires",level:2},{value:"\ud83d\udcc8 Statistiques d&#39;utilisation",id:"-statistiques-dutilisation",level:2},{value:"Fr\xe9quence des appels (ordre de grandeur par partie)",id:"fr\xe9quence-des-appels-ordre-de-grandeur-par-partie",level:3},{value:"\ud83d\udd17 Interactions avec d&#39;autres classes",id:"-interactions-avec-dautres-classes",level:2},{value:"\ud83c\udfaf M\xe9triques de balance",id:"-m\xe9triques-de-balance",level:2},{value:"Valeurs typiques dans le jeu",id:"valeurs-typiques-dans-le-jeu",level:3},{value:"\ud83d\udd04 Am\xe9liorations potentielles",id:"-am\xe9liorations-potentielles",level:2},{value:"Version future avec \xe9v\xe9nements",id:"version-future-avec-\xe9v\xe9nements",level:3},{value:"\ud83d\udcda R\xe9f\xe9rences",id:"-r\xe9f\xe9rences",level:2},{value:"\ud83d\udca1 Conseils d&#39;utilisation",id:"-conseils-dutilisation",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"economie",children:(0,r.jsx)(n.code,{children:"Economie"})})}),"\n",(0,r.jsxs)(n.p,{children:["La classe ",(0,r.jsx)(n.code,{children:"Economie"})," est responsable de la ",(0,r.jsx)(n.strong,{children:"gestion de la monnaie"})," d'un joueur dans Xenon Space. Elle fournit une interface simple et s\xe9curis\xe9e pour toutes les transactions financi\xe8res (ajouts, retraits, v\xe9rifications)."]}),"\n",(0,r.jsx)(n.admonition,{title:"Principe de conception",type:"tip",children:(0,r.jsxs)(n.p,{children:["Cette classe suit le principe d'",(0,r.jsx)(n.strong,{children:"encapsulation"})," : le solde est g\xe9r\xe9 de mani\xe8re centralis\xe9e avec des m\xe9thodes de contr\xf4le pour \xe9viter les \xe9tats incoh\xe9rents (solde n\xe9gatif, transactions invalides)."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-vue-densemble",children:"\ud83d\udccb Vue d'ensemble"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class Economie:\n    def __init__(self, solde_initial=0):\n        self.solde = int(solde_initial)\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"R\xf4le principal :"})," G\xe9rer le solde mon\xe9taire d'un joueur de mani\xe8re s\xe9curis\xe9e."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Utilis\xe9e par :"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/Player",children:(0,r.jsx)(n.code,{children:"Player"})})," - Chaque joueur poss\xe8de une instance ",(0,r.jsx)(n.code,{children:"Economie"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/Shop",children:(0,r.jsx)(n.code,{children:"Shop"})})," - V\xe9rifie et modifie le solde lors d'achats"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/Turn",children:(0,r.jsx)(n.code,{children:"Turn"})})," - Calcule les gains de fin de tour"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-constructeur",children:"\ud83c\udfd7\ufe0f Constructeur"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def __init__(self, solde_initial=0):\n    self.solde = int(solde_initial)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Valeur par d\xe9faut"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"solde_initial"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0"})}),(0,r.jsx)(n.td,{children:"Montant d'argent initial du joueur"})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"attributs-initialis\xe9s",children:"Attributs initialis\xe9s"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Attribut"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"self.solde"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"Solde actuel en monnaie du jeu (\u20bf)"})]})})]}),"\n",(0,r.jsx)(n.admonition,{title:"Conversion automatique",type:"info",children:(0,r.jsxs)(n.p,{children:["Le param\xe8tre est converti en ",(0,r.jsx)(n.code,{children:"int"})," pour \xe9viter les montants avec d\xe9cimales."]})}),"\n",(0,r.jsx)(n.h3,{id:"exemples-dinitialisation",children:"Exemples d'initialisation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Joueur d\xe9butant\neco1 = Economie()  # solde = 0\u20bf\n\n# Joueur avec capital de d\xe9part\neco2 = Economie(500)  # solde = 500\u20bf\n\n# Conversion automatique\neco3 = Economie(999.9)  # solde = 999\u20bf (tronqu\xe9)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-m\xe9thodes-publiques",children:"\ud83d\udcb0 M\xe9thodes publiques"}),"\n",(0,r.jsx)(n.h3,{id:"ajouter",children:(0,r.jsx)(n.code,{children:"ajouter"})}),"\n",(0,r.jsx)(n.p,{children:"Ajoute un montant au solde du joueur."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def ajouter(self, montant: int) -> bool:\n    """Ajoute de l\'argent au solde"""\n    if montant > 0:\n        self.solde += montant\n        return True\n    return False\n'})}),"\n",(0,r.jsx)(n.h4,{id:"param\xe8tres-1",children:"Param\xe8tres"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"montant"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"Montant \xe0 ajouter (doit \xeatre positif)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"retour",children:"Retour"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Valeur"}),(0,r.jsx)(n.th,{children:"Condition"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"True"})}),(0,r.jsx)(n.td,{children:"L'ajout a r\xe9ussi (montant > 0)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsx)(n.td,{children:"L'ajout a \xe9chou\xe9 (montant \u2264 0)"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"comportement",children:"Comportement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Appel ajouter] --\x3e B{montant > 0?}\n    B --\x3e|Oui| C[self.solde += montant]\n    B --\x3e|Non| D[Aucune modification]\n    C --\x3e E[return True]\n    D --\x3e F[return False]\n    \n    style E fill:#00C864\n    style F fill:#FF6B6B\n"})}),"\n",(0,r.jsx)(n.h4,{id:"exemples-dutilisation",children:"Exemples d'utilisation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"eco = Economie(100)\n\n# Ajout valide\neco.ajouter(50)      # True, solde = 150\u20bf\neco.ajouter(200)     # True, solde = 350\u20bf\n\n# Ajouts invalides\neco.ajouter(0)       # False, solde = 350\u20bf (inchang\xe9)\neco.ajouter(-10)     # False, solde = 350\u20bf (inchang\xe9)\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Validation",type:"tip",children:(0,r.jsxs)(n.p,{children:["La m\xe9thode ",(0,r.jsx)(n.strong,{children:"refuse automatiquement"})," les montants n\xe9gatifs ou nuls, \xe9vitant les erreurs."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"retirer",children:(0,r.jsx)(n.code,{children:"retirer"})}),"\n",(0,r.jsx)(n.p,{children:"Retire un montant du solde si le joueur a suffisamment de fonds."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def retirer(self, montant: int) -> bool:\n    """Retire de l\'argent si le joueur a assez"""\n    if 0 < montant <= self.solde:\n        self.solde -= montant\n        return True\n    return False\n'})}),"\n",(0,r.jsx)(n.h4,{id:"param\xe8tres-2",children:"Param\xe8tres"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"montant"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"Montant \xe0 retirer (doit \xeatre positif et \u2264 solde)"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"retour-1",children:"Retour"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Valeur"}),(0,r.jsx)(n.th,{children:"Condition"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"True"})}),(0,r.jsx)(n.td,{children:"Le retrait a r\xe9ussi (fonds suffisants)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsx)(n.td,{children:"Le retrait a \xe9chou\xe9 (fonds insuffisants ou montant invalide)"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"conditions-de-succ\xe8s",children:"Conditions de succ\xe8s"}),"\n",(0,r.jsxs)(n.p,{children:["Le retrait ne s'effectue ",(0,r.jsx)(n.strong,{children:"que si"})," :"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.code,{children:"montant > 0"})," (montant strictement positif)"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.code,{children:"montant <= self.solde"})," (fonds suffisants)"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"comportement-1",children:"Comportement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Appel retirer] --\x3e B{0 < montant <= solde?}\n    B --\x3e|Oui| C[self.solde -= montant]\n    B --\x3e|Non| D[Aucune modification]\n    C --\x3e E[return True]\n    D --\x3e F[return False]\n    \n    style E fill:#00C864\n    style F fill:#FF6B6B\n"})}),"\n",(0,r.jsx)(n.h4,{id:"exemples-dutilisation-1",children:"Exemples d'utilisation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"eco = Economie(500)\n\n# Retraits valides\neco.retirer(100)     # True, solde = 400\u20bf\neco.retirer(400)     # True, solde = 0\u20bf\n\n# Retraits invalides\neco.retirer(50)      # False, solde = 0\u20bf (insuffisant)\neco.retirer(0)       # False, solde = 0\u20bf (montant nul)\neco.retirer(-10)     # False, solde = 0\u20bf (montant n\xe9gatif)\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Protection",type:"caution",children:(0,r.jsxs)(n.p,{children:["La m\xe9thode ",(0,r.jsx)(n.strong,{children:"emp\xeache"})," le solde de devenir n\xe9gatif. Un joueur ne peut jamais avoir de dette."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"peut_payer",children:(0,r.jsx)(n.code,{children:"peut_payer"})}),"\n",(0,r.jsxs)(n.p,{children:["V\xe9rifie si le joueur a suffisamment de fonds pour un montant donn\xe9 ",(0,r.jsx)(n.strong,{children:"sans modifier le solde"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def peut_payer(self, montant: int) -> bool:\n    """V\xe9rifie si le joueur peut payer"""\n    return self.solde >= montant\n'})}),"\n",(0,r.jsx)(n.h4,{id:"param\xe8tres-3",children:"Param\xe8tres"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Param\xe8tre"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"montant"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"Montant \xe0 v\xe9rifier"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"retour-2",children:"Retour"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Valeur"}),(0,r.jsx)(n.th,{children:"Condition"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"True"})}),(0,r.jsx)(n.td,{children:"Le joueur peut payer (solde \u2265 montant)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsx)(n.td,{children:"Le joueur ne peut pas payer (solde < montant)"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"comportement-2",children:"Comportement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# \xc9quivalent \xe0\nreturn self.solde >= montant\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"M\xe9thode de consultation",type:"info",children:(0,r.jsxs)(n.p,{children:["Cette m\xe9thode est ",(0,r.jsx)(n.strong,{children:"non-destructive"})," : elle ne modifie jamais le solde."]})}),"\n",(0,r.jsx)(n.h4,{id:"exemples-dutilisation-2",children:"Exemples d'utilisation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"eco = Economie(300)\n\n# V\xe9rifications\neco.peut_payer(100)   # True (300 >= 100)\neco.peut_payer(300)   # True (300 >= 300)\neco.peut_payer(301)   # False (300 < 301)\neco.peut_payer(0)     # True (300 >= 0)\neco.peut_payer(-50)   # True (300 >= -50)\n\n# Le solde reste inchang\xe9\nprint(eco.solde)      # 300\u20bf\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"etat",children:(0,r.jsx)(n.code,{children:"etat"})}),"\n",(0,r.jsx)(n.p,{children:"Retourne le solde actuel du joueur."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def etat(self) -> dict:\n    return self.solde\n"})}),"\n",(0,r.jsx)(n.h4,{id:"retour-3",children:"Retour"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"Solde actuel en monnaie du jeu (\u20bf)"})]})})]}),"\n",(0,r.jsx)(n.admonition,{title:"Signature type",type:"note",children:(0,r.jsxs)(n.p,{children:["Malgr\xe9 l'annotation ",(0,r.jsx)(n.code,{children:"-> dict"}),", la m\xe9thode retourne en r\xe9alit\xe9 un ",(0,r.jsx)(n.code,{children:"int"}),". Cela semble \xeatre une erreur de documentation \xe0 corriger."]})}),"\n",(0,r.jsx)(n.h4,{id:"exemple-dutilisation",children:"Exemple d'utilisation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'eco = Economie(750)\n\nsolde = eco.etat()\nprint(f"Vous avez {solde}\u20bf")  # "Vous avez 750\u20bf"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-flux-dutilisation-typique",children:"\ud83d\udd04 Flux d'utilisation typique"}),"\n",(0,r.jsx)(n.h3,{id:"dans-le-contexte-dun-achat",children:"Dans le contexte d'un achat"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from classes.Economie import Economie\n\n# Initialisation\neco = Economie(1000)\n\n# 1. V\xe9rifier avant achat (optionnel mais recommand\xe9)\nprix = 650\nif eco.peut_payer(prix):\n    print("Achat possible !")\nelse:\n    print("Fonds insuffisants")\n    \n# 2. Effectuer le paiement\nif eco.retirer(prix):\n    print(f"Achat r\xe9ussi ! Nouveau solde : {eco.etat()}\u20bf")\n    # Cr\xe9er le vaisseau ici\nelse:\n    print("\xc9chec de la transaction")\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sortie :"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Achat possible !\nAchat r\xe9ussi ! Nouveau solde : 350\u20bf\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"dans-le-contexte-de-gains",children:"Dans le contexte de gains"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Gains de fin de tour\ngains_planetes = 150\ngains_asteroides = 100\nrecompense_combat = 390\n\neco.ajouter(gains_planetes)\neco.ajouter(gains_asteroides)\neco.ajouter(recompense_combat)\n\nprint(f"Total gagn\xe9 : {gains_planetes + gains_asteroides + recompense_combat}\u20bf")\nprint(f"Nouveau solde : {eco.etat()}\u20bf")\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-cas-dusage-dans-le-jeu",children:"\ud83c\udfaf Cas d'usage dans le jeu"}),"\n",(0,r.jsx)(n.h3,{id:"1-initialisation-des-joueurs",children:"1. Initialisation des joueurs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from classes.Player import Player\n\n# Dans Player.__init__\nclass Player:\n    def __init__(self, name: str, solde_initial: int = 500):\n        self.name = name\n        self.economie = Economie(solde_initial)  # \u2190 Instance d'Economie\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2-achat-de-vaisseau-shop",children:"2. Achat de vaisseau (Shop)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from classes.Shop import Shop\n\nclass Shop:\n    def buy_ship(self, ship_data):\n        prix = ship_data["price"]\n        \n        # V\xe9rification puis retrait\n        if self.player.economie.peut_payer(prix):\n            if self.player.economie.retirer(prix):\n                return ship_data["name"]  # Achat r\xe9ussi\n        \n        return None  # \xc9chec\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-gains-de-fin-de-tour-player",children:"3. Gains de fin de tour (Player)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class Player:\n    def gain(self):\n        total_gain = 0\n        \n        for ship in self.ships:\n            if ship.gain > 0:\n                total_gain += ship.gain\n                ship.gain = 0  # R\xe9initialiser\n        \n        # Ajout au solde\n        self.economie.ajouter(total_gain)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"4-am\xe9lioration-de-base-mothership",children:"4. Am\xe9lioration de base (MotherShip)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class MotherShip:\n    def upgrade(self, payer_fct):\n        if not self.can_upgrade():\n            return False\n        \n        price = self.get_next_tier_cost()\n        \n        # payer_fct est typiquement Player.buy\n        if not payer_fct(price):\n            return False  # Fonds insuffisants\n        \n        self.apply_level(self.tier + 1)\n        return True\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Avec dans ",(0,r.jsx)(n.code,{children:"Player"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class Player:\n    def buy(self, price: int) -> bool:\n        return self.economie.retirer(price)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-diagramme-de-s\xe9quence",children:"\ud83d\udcca Diagramme de s\xe9quence"}),"\n",(0,r.jsx)(n.h3,{id:"achat-complet",children:"Achat complet"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant U as Utilisateur\n    participant S as Shop\n    participant P as Player\n    participant E as Economie\n    \n    U->>S: Clic sur vaisseau (650\u20bf)\n    S->>P: buy(650)\n    P->>E: retirer(650)\n    \n    alt Fonds suffisants\n        E->>E: self.solde -= 650\n        E->>P: True\n        P->>S: True\n        S->>S: Cr\xe9er vaisseau\n        S->>U: Achat r\xe9ussi\n    else Fonds insuffisants\n        E->>P: False\n        P->>S: False\n        S->>U: \xc9chec (afficher erreur)\n    end\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-protection-et-s\xe9curit\xe9",children:"\ud83d\udee1\ufe0f Protection et s\xe9curit\xe9"}),"\n",(0,r.jsx)(n.h3,{id:"protections-impl\xe9ment\xe9es",children:"Protections impl\xe9ment\xe9es"}),"\n",(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsxs)("div",{className:"alert alert--success",children:[(0,r.jsx)("h4",{children:"\u2705 Protections actives"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["Solde ne peut ",(0,r.jsx)("strong",{children:"jamais"})," \xeatre n\xe9gatif"]}),(0,r.jsxs)("li",{children:["Ajouts n\xe9gatifs/nuls ",(0,r.jsx)("strong",{children:"refus\xe9s"})]}),(0,r.jsxs)("li",{children:["Retraits sup\xe9rieurs au solde ",(0,r.jsx)("strong",{children:"bloqu\xe9s"})]}),(0,r.jsxs)("li",{children:["Conversion automatique en ",(0,r.jsx)("code",{children:"int"})]})]})]})}),(0,r.jsx)("div",{className:"col col--6",children:(0,r.jsxs)("div",{className:"alert alert--info",children:[(0,r.jsx)("h4",{children:"\u2139\ufe0f Comportement"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["M\xe9thodes retournent ",(0,r.jsx)("code",{children:"bool"})," pour feedback"]}),(0,r.jsx)("li",{children:"Aucune exception lev\xe9e (safe)"}),(0,r.jsx)("li",{children:"\xc9tat toujours coh\xe9rent"}),(0,r.jsx)("li",{children:"M\xe9thodes atomiques"})]})]})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"tests-de-robustesse",children:"Tests de robustesse"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"eco = Economie(100)\n\n# Test 1 : Retrait excessif\nassert eco.retirer(200) == False  # Refus\xe9\nassert eco.solde == 100           # Solde inchang\xe9\n\n# Test 2 : Ajout n\xe9gatif\nassert eco.ajouter(-50) == False  # Refus\xe9\nassert eco.solde == 100           # Solde inchang\xe9\n\n# Test 3 : Retrait exact\nassert eco.retirer(100) == True   # Accept\xe9\nassert eco.solde == 0             # Solde \xe0 z\xe9ro\n\n# Test 4 : Retrait sur solde nul\nassert eco.retirer(1) == False    # Refus\xe9\nassert eco.solde == 0             # Reste \xe0 z\xe9ro\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-cas-limites",children:"\ud83d\udd0d Cas limites"}),"\n",(0,r.jsx)(n.h3,{id:"montants-n\xe9gatifs",children:"Montants n\xe9gatifs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"eco = Economie(500)\n\n# Tentative d'ajout n\xe9gatif\neco.ajouter(-100)   # False, solde = 500\u20bf (inchang\xe9)\n\n# peut_payer accepte les montants n\xe9gatifs (bug logique?)\neco.peut_payer(-10) # True (500 >= -10)\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Incoh\xe9rence",type:"caution",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"peut_payer(-10)"})," retourne ",(0,r.jsx)(n.code,{children:"True"}),", mais ",(0,r.jsx)(n.code,{children:"retirer(-10)"})," retourne ",(0,r.jsx)(n.code,{children:"False"}),". Cela pourrait pr\xeater \xe0 confusion."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Correction sugg\xe9r\xe9e :"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def peut_payer(self, montant: int) -> bool:\n    """V\xe9rifie si le joueur peut payer"""\n    return montant > 0 and self.solde >= montant\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"solde-\xe0-z\xe9ro",children:"Solde \xe0 z\xe9ro"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"eco = Economie(0)\n\n# Toutes les op\xe9rations de retrait \xe9chouent\neco.retirer(1)      # False\neco.retirer(100)    # False\n\n# Les ajouts fonctionnent\neco.ajouter(50)     # True, solde = 50\u20bf\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"conversion-de-types",children:"Conversion de types"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Float tronqu\xe9\neco = Economie(99.9)\nprint(eco.solde)     # 99 (pas 100)\n\n# Ajout avec float\neco.ajouter(10.7)    # Pas de conversion, pourrait causer une erreur\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Type float",type:"caution",children:(0,r.jsxs)(n.p,{children:["Les m\xe9thodes n'effectuent ",(0,r.jsx)(n.strong,{children:"pas de conversion"})," sur les param\xe8tres. Passer un ",(0,r.jsx)(n.code,{children:"float"})," pourrait causer des bugs."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Am\xe9lioration sugg\xe9r\xe9e :"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def ajouter(self, montant: int) -> bool:\n    montant = int(montant)  # Conversion explicite\n    if montant > 0:\n        self.solde += montant\n        return True\n    return False\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-exemples-avanc\xe9s",children:"\ud83c\udf93 Exemples avanc\xe9s"}),"\n",(0,r.jsx)(n.h3,{id:"pattern-de-transaction-atomique",children:"Pattern de transaction atomique"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def transaction_securisee(eco: Economie, prix: int, action_callback):\n    """Effectue une transaction avec rollback en cas d\'erreur"""\n    if not eco.peut_payer(prix):\n        return False, "Fonds insuffisants"\n    \n    if not eco.retirer(prix):\n        return False, "\xc9chec du retrait"\n    \n    try:\n        resultat = action_callback()\n        return True, resultat\n    except Exception as e:\n        # Rollback\n        eco.ajouter(prix)\n        return False, f"Erreur : {e}"\n\n# Utilisation\neco = Economie(1000)\nsuccess, msg = transaction_securisee(eco, 650, lambda: creer_vaisseau())\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"historique-des-transactions",children:"Historique des transactions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class EconomieAvecHistorique(Economie):\n    def __init__(self, solde_initial=0):\n        super().__init__(solde_initial)\n        self.historique = []\n    \n    def ajouter(self, montant: int) -> bool:\n        resultat = super().ajouter(montant)\n        if resultat:\n            self.historique.append(("ajout", montant, self.solde))\n        return resultat\n    \n    def retirer(self, montant: int) -> bool:\n        resultat = super().retirer(montant)\n        if resultat:\n            self.historique.append(("retrait", montant, self.solde))\n        return resultat\n    \n    def afficher_historique(self):\n        for type_op, montant, solde_apres in self.historique:\n            print(f"{type_op.capitalize()}: {montant}\u20bf \u2192 Solde: {solde_apres}\u20bf")\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Utilisation :"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"eco = EconomieAvecHistorique(500)\neco.ajouter(150)\neco.retirer(200)\neco.ajouter(100)\n\neco.afficher_historique()\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sortie :"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Ajout: 150\u20bf \u2192 Solde: 650\u20bf\nRetrait: 200\u20bf \u2192 Solde: 450\u20bf\nAjout: 100\u20bf \u2192 Solde: 550\u20bf\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-tests-unitaires",children:"\ud83e\uddea Tests unitaires"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import unittest\n\nclass TestEconomie(unittest.TestCase):\n    def setUp(self):\n        self.eco = Economie(100)\n    \n    def test_init(self):\n        self.assertEqual(self.eco.solde, 100)\n    \n    def test_ajouter_valide(self):\n        self.assertTrue(self.eco.ajouter(50))\n        self.assertEqual(self.eco.solde, 150)\n    \n    def test_ajouter_invalide(self):\n        self.assertFalse(self.eco.ajouter(0))\n        self.assertFalse(self.eco.ajouter(-10))\n        self.assertEqual(self.eco.solde, 100)\n    \n    def test_retirer_valide(self):\n        self.assertTrue(self.eco.retirer(50))\n        self.assertEqual(self.eco.solde, 50)\n    \n    def test_retirer_invalide(self):\n        self.assertFalse(self.eco.retirer(200))\n        self.assertEqual(self.eco.solde, 100)\n    \n    def test_peut_payer(self):\n        self.assertTrue(self.eco.peut_payer(100))\n        self.assertTrue(self.eco.peut_payer(50))\n        self.assertFalse(self.eco.peut_payer(101))\n    \n    def test_etat(self):\n        self.assertEqual(self.eco.etat(), 100)\n\nif __name__ == '__main__':\n    unittest.main()\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-statistiques-dutilisation",children:"\ud83d\udcc8 Statistiques d'utilisation"}),"\n",(0,r.jsx)(n.h3,{id:"fr\xe9quence-des-appels-ordre-de-grandeur-par-partie",children:"Fr\xe9quence des appels (ordre de grandeur par partie)"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"M\xe9thode"}),(0,r.jsx)(n.th,{children:"Appels typiques"}),(0,r.jsx)(n.th,{children:"Contexte"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ajouter"})}),(0,r.jsx)(n.td,{children:"50-200"}),(0,r.jsx)(n.td,{children:"Gains de tour, r\xe9compenses"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"retirer"})}),(0,r.jsx)(n.td,{children:"10-50"}),(0,r.jsx)(n.td,{children:"Achats de vaisseaux, am\xe9liorations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"peut_payer"})}),(0,r.jsx)(n.td,{children:"20-100"}),(0,r.jsx)(n.td,{children:"V\xe9rifications avant achat"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"etat"})}),(0,r.jsx)(n.td,{children:"5-20"}),(0,r.jsx)(n.td,{children:"Affichage HUD, debug"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-interactions-avec-dautres-classes",children:"\ud83d\udd17 Interactions avec d'autres classes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    E[Economie] --\x3e P[Player]\n    P --\x3e S[Shop]\n    P --\x3e M[MotherShip]\n    P --\x3e T[Turn]\n    \n    S -.retirer.-> E\n    M -.retirer.-> E\n    T -.ajouter.-> E\n    P -.peut_payer.-> E\n    \n    style E fill:#50C8FF\n    style P fill:#FFC800\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-m\xe9triques-de-balance",children:"\ud83c\udfaf M\xe9triques de balance"}),"\n",(0,r.jsx)(n.h3,{id:"valeurs-typiques-dans-le-jeu",children:"Valeurs typiques dans le jeu"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\xc9v\xe9nement"}),(0,r.jsx)(n.th,{children:"Montant"}),(0,r.jsx)(n.th,{children:"Fr\xe9quence"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Solde initial"})}),(0,r.jsx)(n.td,{children:"500\u20bf"}),(0,r.jsx)(n.td,{children:"1\xd7 (d\xe9but)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Gain base Nv1"})}),(0,r.jsx)(n.td,{children:"300\u20bf"}),(0,r.jsx)(n.td,{children:"1\xd7/tour"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Gain foreuse/plan\xe8te"})}),(0,r.jsx)(n.td,{children:"150\u20bf"}),(0,r.jsx)(n.td,{children:"1\xd7/tour/foreuse"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Gain foreuse/ast\xe9ro\xefde"})}),(0,r.jsx)(n.td,{children:"100\u20bf"}),(0,r.jsx)(n.td,{children:"1\xd7/tour/foreuse"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Co\xfbt Petit"})}),(0,r.jsx)(n.td,{children:"325\u20bf"}),(0,r.jsx)(n.td,{children:"Variable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Co\xfbt Moyen"})}),(0,r.jsx)(n.td,{children:"650\u20bf"}),(0,r.jsx)(n.td,{children:"Variable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Co\xfbt Lourd"})}),(0,r.jsx)(n.td,{children:"1050\u20bf"}),(0,r.jsx)(n.td,{children:"Variable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Upgrade base Nv1\u21922"})}),(0,r.jsx)(n.td,{children:"1000\u20bf"}),(0,r.jsx)(n.td,{children:"1\xd7"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-am\xe9liorations-potentielles",children:"\ud83d\udd04 Am\xe9liorations potentielles"}),"\n",(0,r.jsx)(n.h3,{id:"version-future-avec-\xe9v\xe9nements",children:"Version future avec \xe9v\xe9nements"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class EconomieAvecEvents(Economie):\n    def __init__(self, solde_initial=0):\n        super().__init__(solde_initial)\n        self.callbacks = {\n            "ajout": [],\n            "retrait": [],\n            "etat_change": []\n        }\n    \n    def on(self, event, callback):\n        """Enregistre un callback pour un \xe9v\xe9nement"""\n        if event in self.callbacks:\n            self.callbacks[event].append(callback)\n    \n    def ajouter(self, montant: int) -> bool:\n        ancien_solde = self.solde\n        resultat = super().ajouter(montant)\n        \n        if resultat:\n            for cb in self.callbacks["ajout"]:\n                cb(montant, self.solde)\n            for cb in self.callbacks["etat_change"]:\n                cb(ancien_solde, self.solde)\n        \n        return resultat\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Utilisation :"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'eco = EconomieAvecEvents(100)\n\n# \xc9couter les changements\neco.on("ajout", lambda montant, nouveau: print(f"+{montant}\u20bf"))\neco.on("etat_change", lambda avant, apres: print(f"Solde : {avant} \u2192 {apres}\u20bf"))\n\neco.ajouter(50)\n# Sortie:\n# +50\u20bf\n# Solde : 100 \u2192 150\u20bf\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-r\xe9f\xe9rences",children:"\ud83d\udcda R\xe9f\xe9rences"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/Player",children:"Classe Player"})," - Utilise ",(0,r.jsx)(n.code,{children:"Economie"})," pour g\xe9rer le solde"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/Shop",children:"Classe Shop"})," - Interagit avec ",(0,r.jsx)(n.code,{children:"Economie"})," pour les achats"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/Turn",children:"Classe Turn"})," - D\xe9clenche les gains via ",(0,r.jsx)(n.code,{children:"Economie"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./ship/MotherShip.md",children:"MotherShip"})," - Utilise ",(0,r.jsx)(n.code,{children:"Economie"})," pour les upgrades"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-conseils-dutilisation",children:"\ud83d\udca1 Conseils d'utilisation"}),"\n",(0,r.jsxs)("div",{className:"alert alert--success",children:[(0,r.jsx)("h4",{children:"\u2705 Bonnes pratiques"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["Toujours v\xe9rifier avec ",(0,r.jsx)("code",{children:"peut_payer()"})," avant d'afficher un bouton d'achat"]}),(0,r.jsxs)("li",{children:["V\xe9rifier le retour de ",(0,r.jsx)("code",{children:"retirer()"})," pour confirmer la transaction"]}),(0,r.jsxs)("li",{children:["Ne jamais modifier ",(0,r.jsx)("code",{children:"self.solde"})," directement"]}),(0,r.jsxs)("li",{children:["Utiliser ",(0,r.jsx)("code",{children:"etat()"})," pour l'affichage uniquement"]})]})]}),"\n",(0,r.jsxs)("div",{className:"alert alert--danger",children:[(0,r.jsx)("h4",{children:"\u274c \xc0 \xe9viter"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["Acc\xe8s direct \xe0 ",(0,r.jsx)("code",{children:"economie.solde"})," pour modification"]}),(0,r.jsx)("li",{children:"Ne pas v\xe9rifier les valeurs de retour des m\xe9thodes"}),(0,r.jsxs)("li",{children:["Supposer qu'un ",(0,r.jsx)("code",{children:"retirer()"})," r\xe9ussit toujours"]}),(0,r.jsxs)("li",{children:["Passer des montants ",(0,r.jsx)("code",{children:"float"})," sans conversion"]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Prochaine \xe9tape"})," : D\xe9couvrez comment ",(0,r.jsx)(n.a,{href:"/xenon-space---Video-game/docs/technicals/classes/Player",children:(0,r.jsx)(n.code,{children:"Player"})})," utilise ",(0,r.jsx)(n.code,{children:"Economie"})," pour g\xe9rer les finances d'un joueur."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var i=s(6540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);